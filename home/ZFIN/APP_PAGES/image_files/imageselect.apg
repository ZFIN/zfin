<HTML>

<HEAD>
<basefont size=2>

<SCRIPT>

function redraw(resetter) {
  var resind=document.getcrits.resolution.selectedIndex;
  var resolution=document.getcrits.resolution.options[resind].value;
  var specind=document.getcrits.specimen.selectedIndex;
  var stock_name=document.getcrits.stock.value;
  var specimen=document.getcrits.specimen.options[specind].value;
  var specind2=document.getcrits.anon1.selectedIndex;
  var anon1=document.getcrits.anon1.options[specind2].value;
  var anon1text=document.getcrits.anon1text.value;
<?MIVAR>
  var mival="$MIval";
<?/MIVAR>
  if (resetter==1) {
     window.location.search="?MIval="+mival;
   } else {
     window.location.search="?stock="+ stock_name + "&specimen="+specimen+"&resolution="+resolution+"&anon1="+anon1+"&anon1text="+anon1text+"&MIval="+mival;
   }
}



function validate(field) {
  var num_input=parseInt(field.value);
  if (isNaN(num_input)) {
    window.alert('You must enter a real number in this field');
    field.value="";
    field.focus();
  }
}

</SCRIPT>

</HEAD>

<?MIVAR COND="$(NXST,$resolution)" NAME=$resolution>any<?/MIVAR>
<?MIVAR COND="$(NXST,$specimen)" NAME=$specimen>any<?/MIVAR>
<?MIVAR COND="$(NXST,$stock)" NAME=$stock><?/MIVAR>
<?MIVAR COND="$(NXST,$anon1)" NAME=$anon1>comments<?/MIVAR>
<?MIVAR COND="$(NXST,$anon1text)" NAME=$anon1text><?/MIVAR>


<form name=getcrits method=post TARGET="pbrowser" action="/cgi-bin_B/webdriver">

<center>
<U><B><FONT SIZE=5>Search for </font>
<FONT SIZE=5 color="#ff0000" > IMAGES</font></b></u>
</center>

<TABLE width=100%>
<TR>
<TD><font size=-1>

<?MIVAR>
<b>Name contains:</b> 
<input type=text name=stock size=15 value="$stock">
</font>
</TD> <TD><font size=-1>
<b>SPECIMEN type:</b> 
<SELECT NAME="specimen">
<OPTION $(IF,$(EC,$specimen,any),SELECTED) value="any">Unspecified
<OPTION $(IF,$(EC,$specimen,UNKNOWN),SELECTED) value="UNKNOWN">UNKNOWN
<OPTION $(IF,$(EC,$specimen,LM-section),SELECTED) value="LM-section">LM-section
<OPTION $(IF,$(EC,$specimen,EM-section),SELECTED) value="EM-section">EM-section
<OPTION $(IF,$(EC,$specimen,whole-mount),SELECTED) value="whole-mount">whole-mount
</SELECT>
</font></TD> </TR> 
</TABLE>


<TABLE width=100%>
<TR>
<TD valign=top><font size=-1>
<b>AGE of animal:</b> 
<SELECT NAME="resolution" onChange="redraw(0)">
<OPTION $(IF,$(EC,$resolution,any),SELECTED) VALUE="any">Don't Care - Any
<OPTION $(IF,$(EC,$resolution,time),SELECTED) VALUE="time">In hours/days is...
<OPTION $(IF,$(EC,$resolution,stage),SELECTED) VALUE="stage">By dev. stage is...
</SELECT>
<?/MIVAR>

<?MIVAR COND="$(NC,$resolution,any)"> between <br> <?/MIVAR>

<?MIBLOCK COND="$(EC,$resolution,time)">
<input type=text name=dev_time_start value=0 size=6 maxlength=6  onChange="validate(this)"> and 
<input type=text name=dev_time_end size=6 maxlength=6 value=144  onChange="validate(this)">  
<select name=multiplier>
<option selected value=1>hours
<option value=24>days
</SELECT>
<?/MIBLOCK>


<?MIBLOCK COND="$(EC,$resolution,stage)">
<SELECT NAME=start_stage >
<?MISQL SQL="select stage_name::lvarchar, stage_hours_start from dev_stage where index_key='submit' order by stage_hours_start;">
<option $(IF,$(EC,$1,"Zygote:1-cell"),SELECTED)>$1
<?/MISQL>
</SELECT> 
and 
<SELECT NAME=end_stage >
<?MISQL SQL="select stage_name::lvarchar, stage_hours_start from dev_stage where index_key='submit' order by stage_hours_start;">
<option $(IF,$(EC,$1,"Hatching:Protruding-mouth"),SELECTED)>$1
<?/MISQL> 
</SELECT> 
stage.
<?/MIBLOCK>
</font></TD>

<TD align=right> 
<?MIVAR>
<SELECT NAME=anon1>
<option $(IF,$(EC,$anon1,comments),SELECTED) value="comments">Comments
<option $(IF,$(EC,$anon1,zdb_id),SELECTED) value="zdb_id">ZFIN ID
</SELECT> 
contains <input type=text name=anon1text value="$anon1text" size=8>
<?/MIVAR>
</TD>
</TR>


<TR>
<TD colspan=2 align=right valign=top>
<input type=submit name=action value="SEARCH">
 <input type=reset name=nothing value="Clear All" onClick="redraw(1);">
</TD></TR>

</TABLE>



<!-- This next little block executes only if we are using the browser as a
selector. That is we want user to ultimately CHOOSE a browsed value. All
we have to do at this point is pass the return_rec variable along to the fishlister.
-->
<?MIVAR COND="$(XST,$return_rec)">
<input type=hidden NAME="return_rec" value=$return_rec>
<?/MIVAR>

<input type=hidden name=MIval value=aa-imagelister.apg>


</form>


</HTML>

