<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN"
        "http://www.springframework.org/dtd/spring-beans-2.0.dtd">

<!--
  - Application context definitions for the anatomy pages
  -->
<beans>

    <!--  URL mappings -->
    <bean id="anatomyUrlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="/anatomy/term-detail">anatomyTermDetail</prop>
                <prop key="/anatomy/term-info">anatomyTermInfo</prop>
                <prop key="/anatomy/search">anatomySearch</prop>
                <prop key="/anatomy/high-quality-probes">highQualityProbes</prop>
                <prop key="/anatomy/request-new-term">requestNewAnatomyTerm</prop>
                <prop key="/anatomy/show-all-morpholino-experiments">allMorpholinoExperiments</prop>
                <prop key="/anatomy/antibody-summary">antibodySummary</prop>
                <prop key="/anatomy/show-expression-genes">ajaxAnatomy</prop>
                <prop key="/anatomy/show-expression-insitu-probes">ajaxAnatomy</prop>
                <prop key="/anatomy/show-expression-antibodies">ajaxAnatomy</prop>
                <prop key="/anatomy/show-phenotype">ajaxAnatomy</prop>
                <prop key="/anatomy/show-phenotype-mutants">ajaxAnatomy</prop>
                <prop key="/anatomy/show-phenotype-morpholinos">ajaxAnatomy</prop>
                <prop key="/anatomy/show-phenotype-non-wildtype-morpholinos">ajaxAnatomy</prop>
            </props>
        </property>
    </bean>

    <bean name="anatomyTermDetail" class="org.zfin.anatomy.presentation.AnatomyTermDetailController" autowire="byName"/>
    <bean name="anatomyTermInfo" class="org.zfin.anatomy.presentation.AnatomyTermInfoController" autowire="byName"/>
    <bean name="antibodySummary" class="org.zfin.anatomy.presentation.AntibodySummaryController" autowire="byName"/>

    <bean name="anatomySearch" class="org.zfin.anatomy.presentation.AnatomySearchController" autowire="byName">
        <property name="redirectUrlIfSingleResult">
            <value>redirect:/action/anatomy/term-detail</value>
        </property>
    </bean>

    <bean name="allMorpholinoExperiments" class="org.zfin.anatomy.presentation.AllMorpholinoExperimentController"
          autowire="byName"/>

    <bean name="addCanonicalGene" class="org.zfin.anatomy.presentation.AnatomyTermDetailController" autowire="byName"/>

    <bean name="highQualityProbes" class="org.zfin.anatomy.presentation.HighQualityProbesController" autowire="byName"/>

    <bean name="auditLogDetails" class="org.zfin.audit.presentation.DetailsController" autowire="byName"/>

    <bean name="requestNewAnatomyTerm" class="org.zfin.anatomy.presentation.RequestNewAnatomyTermController"
          autowire="byName">
        <property name="successView" value="request-term-feedback.page"/>
        <property name="formView" value="request-new-anatomy-term.page"/>
        <property name="mailSender">
            <ref bean="mailSender"/>
        </property>
    </bean>

    <bean name="mailSender" class="org.zfin.framework.mail.IntegratedJavaMailSender"/>

    <!-- Designates to use the repository using hibernate -->
    <bean id="anatomyRepository" class="org.zfin.anatomy.repository.HibernateAnatomyRepository"/>

    <bean id="mutantRepository" class="org.zfin.mutant.repository.HibernateMutantRepository"/>

    <bean name="ajaxAnatomy" class="org.zfin.anatomy.presentation.AnatomyAjaxController">
        <property name="methodNameResolver" ref="actionResolverAnatomy"/>
     </bean>

    <bean id="actionResolverAnatomy" class="org.springframework.web.servlet.mvc.multiaction.PropertiesMethodNameResolver">
        <property name="mappings">
            <props>
                <prop key="/anatomy/show-expression">showExpression</prop>
                <prop key="/anatomy/show-expression-genes">showExpressionGenes</prop>
                <prop key="/anatomy/show-expression-insitu-probes">showExpressionInsituProbes</prop>
                <prop key="/anatomy/show-expression-antibodies">showExpressionAntibodies</prop>
                <prop key="/anatomy/show-phenotype">showPhenotype</prop>
                <prop key="/anatomy/show-phenotype-mutants">showPhenotypeMutants</prop>
                <prop key="/anatomy/show-phenotype-morpholinos">showPhenotypeMorpholinos</prop>
                <prop key="/anatomy/show-phenotype-non-wildtype-morpholinos">showPhenotypeNonwildtypeMorpholinos</prop>
            </props>
        </property>
    </bean>
</beans>
