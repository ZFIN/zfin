<html><head><title></title></head>
<body bgcolor=#ffffff>

<A NAME="1001595">
<P>
</A><A NAME="996824">
<h1><FONT FACE="Helvetica,Arial">
   <center><i>
      Using components

   </i></center>
</FONT></h1>
</A><A NAME="1005655">

<img src="Graphics/compon.mak.anc.gif">

ser interfaces can be very complex, frequently consisting of buttons, text fields, and many other components. To manage this complexity, the IFC breaks an interface down into discrete objects that draw and process events.<P></A>
<A NAME="1013237">
The <code>View</code> class contains the basic functionality for drawing and receiving events. Objects that draw or receive events must be subclasses of <code>View</code>, so that they can inherit this functionality. For example, because the <code>Button</code> class is a subclass<em> </em>of <code>View</code>, it can draw its border and title on screen and react to user clicks.<P></A>
<A NAME="1005978">
This chapter discusses how to design the visual appearance of an application by assembling components. <a href="events.mak.html#996824">See&nbsp;"Handling events" on page 45</a> and <a href="drawing.mak.html#996824">"Drawing to the screen" on page&nbsp;35</a> for information on these topics.<P></A>
<HR>
<A NAME="About components"></A>
<A NAME="1006155">
<H1><FONT FACE="Helvetica,Arial"> About components</FONT></H1>
</A><A NAME="1006158">
Components are the building blocks of an application's interface. Interface elements such as buttons, text fields, scroll bars, and sliders are all application components.<P></A>
<A NAME="1006347">
In the IFC, all components are instances of <code>View</code> subclasses. The <code>netscape.application</code> package already includes most of the components you need to design a user interface. Each component is defined in a separate class in <code>netscape.application</code>. For example, a button is defined by the class <code>netscape.application.Button</code>. The classes that define components contain constructors to instantiate the component and methods that customize its appearance and behavior.<P></A>
<A NAME="Component descriptions"></A>
<A NAME="1012085">
<H2><FONT FACE="Helvetica,Arial"> Component descriptions</FONT></H2>
</A><A NAME="1006227">
The IFC library contains many predefined components that you can use to create a user interface. Each component has a default appearance and behavior that are easily customized. For example, a text field has a background color and is editable by default. You can change these characteristics by calling the <code>setBackgroundColor</code> and <code>setEditable</code> methods<em> </em>of the <code>netscape.application.TextField</code> class.<P></A>
<A NAME="1006231">
The following classes in the <code>netscape.application</code> package of the IFC library let you create components:<P></A>
<ul><A NAME="1006434">
<LI><code>Button</code>. Allows users to issue a command, such as accepting or canceling a dialog box, by clicking a component that looks like a button.
</A><A NAME="1006237">
<LI><code>CheckBox</code>. Lets users specify one of two Boolean values for a specific item, such as yes/no or on/off.
</A><A NAME="1012251">
<LI><code>ColorChooser</code>. Lets a user specify the color of any object that accepts dragged colors, such as a color well.
</A><A NAME="1006718">
<LI><code>ColorWell</code>. Lets users modify the color of interface elements. When users mix a color and drag it to the color well, the color well updates the color of its associated target elements.
</A><A NAME="1006250">
<LI><code>ContainerView</code>. A view that you can use as a boundary or container for other components. You can tile, center, or scale an image that you place in a container view.
</A><A NAME="1012169">
<LI><code>ExternalWindow</code>. Appears as a native window or a dialog box on the platform that runs your applet or application. The IFC lets you create an <B>internal window</B> within your project, or an <B>external window</B>, native to the platform that runs your application.
</A><A NAME="1012261">
<LI><code>FileChooser</code>. Lets users load or save a file in your application or applet. The file chooser appears in an external window and lists files that you specify
</A><A NAME="1012256">
<LI><code>FontChooser</code>. Lets users specify the font, point size, and style of text in your application. Users can change the attributes of any text that appears in an editable text view component.
</A><A NAME="1012164">
<LI><code>InternalWindow</code>. Appears as a window or a dialog box within your application or applet. The IFC lets you create an internal window within your project, or an external window, native to the platform that runs your project.
</A><A NAME="1006255">
<LI><code>ListView</code>. Lets users select an item from a list.
</A><A NAME="1006268">
<LI><code>Popup</code>. Creates a pop-up menu that users from which users can issue commands.
</A><A NAME="1012136">
<LI><code>RadioButton</code>. Lets users specify one item in a list of mutually exclusive choices. Radio button components in the same <B>superview</B> are in the same group; only one of the options is available at a time.
</A><A NAME="1006283">
<LI><code>Slider</code>. Provides a way for users to navigate incrementally through a range of values.
</A><A NAME="1006288">
<LI><code>TextField</code>. Displays a string and optionally lets a user edit it.
</A><A NAME="1006293">
<LI><code>TextView</code>. Displays one or more strings or embedded images. It can display separate paragraphs, and it supports strings which use more than one font.
</A></ul><A NAME="1013530">
<a href="compon.mak.html#1006743">Figure 2.1</a> shows some standard components.<P></A>
<A NAME="1006743">
<B>IFC standard components<p><img src="Graphics/comps.gif">

</B>
<P>
</A>


<HR>
<A NAME="Relationships between components"></A>
<A NAME="1008262">
<H1><FONT FACE="Helvetica,Arial"> Relationships between components</FONT></H1>
</A><A NAME="1014045">
An IFC application has a <B>view hierarchy</B> which specifies the relationship between its UI objects. Because all components are subclasses of <code>View</code>, they all appear somewhere in the view hierarchy.<P></A>
<A NAME="1013618">
The view hierarchy allows an object that is a subclass of <code>View</code> to contain other subclasses of <code>View</code>, allowing you to break the interface down into smaller constituents. For example, a container view displays its title along its top border by making a text field one of its <B>subviews</B>, or a view that it owns. This hierarchy lets you treat the container view as a single unit, while enabling the container view to use other <code>View</code> subclasses to draw and process events falling within its bounds.<P></A>
<A NAME="1008268">
An object's position within the view hierarchy is determined by its superview, the view that contains it. The superview and any other higher view in the hierarchy are known as <B>ancestors</B>. The root view is the top level of any IFC application, and the ancestor of all other views.<P></A>
<A NAME="1008272">
Every view contains zero or more subviews. The subviews and all other owned view are<em> </em><B>descendants</B><em> </em>of at least one view. Every view is a descendant of the application's root view. A view can contain any number of subviews, and the overall view hierarchy can be as extensive as you need for your application.<P></A>
<A NAME="1011442">
The following example shows the relationship between a set of views:<P></A>
<A NAME="1011690">
<B>The view hierarchy
<img src="Graphics/compon.mak.anc4.gif">


</B>
<P>
</A>


<A NAME="Creating subviews"></A>
<A NAME="1010799">
<H2><FONT FACE="Helvetica,Arial"> Creating subviews</FONT></H2>
</A><A NAME="1008333">
In general, use the <code>addSubview</code> method of a view to make any other view a subview. For example, to make an instance of <code>TextField</code> called <code>nameField</code> a subview of the application's root view, issue the following statement:<P></A>
<A NAME="1014066">
<PRE>mainRootView().addSubview(nameField)</PRE>
</A>
<A NAME="1014067">
Similarly, the following statement makes the <code>Button</code> instance <code>cancelButtton</code> a subview of the <code>findDialog</code> window:<P></A>
<A NAME="1008336">
<PRE>findDialog.addSubview(cancelButton)</PRE>
</A>
<A NAME="1008337">
You create subviews for a few components in a different manner:<P></A>
<ul><A NAME="1008338">
<LI>Use the <code>show</code> method of <code>InternalWindow</code> to make an internal window a subview of the root view. See <a href="compon.mak.html#1008381">"Windows" on page&nbsp;25</a>.
</A><A NAME="1013657">
<LI>Use the <code>setContentView</code> method of <code>ScrollView</code> or <code>ScrollGroup</code> to make a view a subview of either class. <a href="compon.mak.html#1009396">See&nbsp;"Making views scrollable" on page 29</a>.
</A><A NAME="1013661">
<LI>Use the <code>showColorChooser</code> or <code>showFontChooser</code> method of <code>RootView</code> to make a chooser a subview of the root view. <a href="compon.mak.html#1012965">See&nbsp;"Choosers" on page 22</a>.
</A></ul><HR>
<A NAME="Working with components"></A>
<A NAME="1009341">
<H1><FONT FACE="Helvetica,Arial"> Working with components</FONT></H1>
</A><A NAME="1009345">
You instantiate or display the following parts of an IFC application in different ways:<P></A>
<ul><A NAME="1009362">
<LI>the root view
</A><A NAME="1009371">
<LI>standard components
</A><A NAME="1009372">
<LI>choosers
</A><A NAME="1009373">
<LI>windows
</A></ul><A NAME="1009374">
The following sections describe how to work with these IFC components.<P></A>
<A NAME="The root view"></A>
<A NAME="1009378">
<H2><FONT FACE="Helvetica,Arial"> The root view</FONT></H2>
</A><A NAME="1009346">
Every IFC application or applet displays a root view<em> </em>as its background. By default, the root view color is dark gray. You can use the <code>setColor</code> method of <code>netscape.application.RootView</code> to specify another color for the root view or the <code>setImage</code> method to display a background image.<P></A>
<A NAME="1007102">
<B>An image displayed in the root view<p><img src="Graphics/bgview.gif">

</B>
<P>
</A>


<A NAME="1007145">
In an application, you must instantiate <code>RootView</code> when you create an external window. In an applet, you do not explicitly instantiate <code>RootView</code>; it is implicitly instantiated when you create the applet. For example, the following code customizes the display of the root view when the applet initializes, but it does not instantiate <code>RootView</code>:<P></A>
<A NAME="1007202">
<PRE>public void init() {<br>super.init();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Display a tiled image in the background view<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainRootView().setImage(Bitmap.bitmapNamed("wmarble.gif"));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainRootView().setImageDisplayStyle(Image.TILED);<br>}</PRE>
</A>
<A NAME="1007147">
The previous code displays a tiled image in the root view's background. The height and width of the root view are specified in the <code>HEIGHT</code> and <code>WIDTH</code> attributes of the HTML <code>APPLET</code> tag that launches the applet. <a href="getstart.mak.html#1008444">See&nbsp;"Launching an applet" on page 14 for more information.</a><P></A>
<A NAME="Standard components"></A>
<A NAME="1008142">
<H2><FONT FACE="Helvetica,Arial"> Standard components</FONT></H2>
</A><A NAME="1008146">
Standard components are control elements such as radio buttons and check boxes that users manipulate to interact with an appliation. The standard components in the IFC library are subclasses of <code>View</code>. To instantiate a component in your application, call its constructor, then use the component's methods to change its appearance. To display the component, make it a subview of the root view or another view.<P></A>
<A NAME="1008147">
For example, the following code creates a container view and a text field<em>.</em> The <code>setTitle</code> method changes the appearance of the container view by specifying a title for it. Similarly, the methods associated with the text field object change the appearance of the text that appears within it.<P></A>
<A NAME="1010606">
<PRE>public class FirstApp extends Application {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ContainerView container;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TextField textField;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void init() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.init();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Change the color of the background view<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainRootView().setColor(Color.yellow);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Create a container<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container = new ContainerView(5, 5, 190, 190);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container.setTitle("FirstApp");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mainRootView().addSubview(container);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Create a text field<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textField = new TextField(64, 24, 128, 24);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textField.setStringValue("Hello World!");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textField.setTransparent(true);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;textField.setEditable(false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;container.addSubview(textField);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>}</PRE>
</A>
<A NAME="1010613">
The preceding code displays the applet shown in <a href="compon.mak.html#1012762">Figure 2.4</a>:<P></A>
<A NAME="1012762">
<B>Displaying components<p><img src="Graphics/world.gif">

</B>
<P>
</A>


<A NAME="Choosers"></A>
<A NAME="1012965">
<H2><FONT FACE="Helvetica,Arial"> Choosers</FONT></H2>
</A><A NAME="1012765">
Choosers provide an interface that lets users perform commonly required tasks. The IFC provides the following choosers:<P></A>
<ul><A NAME="1012387">
<LI>color chooser
</A><A NAME="1012388">
<LI>font chooser
</A><A NAME="1012389">
<LI>file chooser
</A></ul><A NAME="Color chooser"></A>
<A NAME="1012390">
<H3><FONT FACE="Helvetica,Arial"> Color chooser</FONT></H3>
</A><A NAME="1012391">
The color chooser is a component that lets a user specify the color of any object that accepts dragged colors, such as a color well.<P></A>
<A NAME="1012403">
<B>The color chooser<p><img src="Graphics/cchooser.gif">

</B>
<P>
</A>


<A NAME="1012404">
Users move the sliders to mix the color they want, or they enter RGB values for the color in the text fields. After mixing the proper color, the user drags it from the chooser to the element that will receive the color. The element displays the new color immediately.<P></A>
<A NAME="Displaying a color chooser"></A>
<A NAME="1012796">
<H4><FONT FACE="Helvetica,Arial"> Displaying a color chooser</FONT></H4>
</A><A NAME="1012797">
You can display a color chooser in one of two ways:<P></A>
<ul><A NAME="1012798">
<LI>Call the <code>showColorChooser</code> method of <code>RootView</code>.
</A><A NAME="1012799">
<LI>Call the constructor of the chooser, then calling the <code>show</code> method of the chooser itself.
</A></ul><A NAME="1014010">
When you use <code>showColorChooser</code>, the chooser opens in an internal window that is a subview of the root view. For example, the following code displays a color chooser:<P></A>
<A NAME="1012801">
<PRE>mainRootView().showColorChooser();</PRE>
</A>
<A NAME="1012802">
The <code>showColorChooser</code> method implicitly instantiates a color chooser and then displays it; you do not need to call the constructor of <code>ColorChooser</code>.<P></A>
<A NAME="1012803">
If you use the <code>show</code> method to display a color chooser, you can open the chooser in either an internal or external window. For example, the following code displays a color chooser in the external window <code>extWindow</code>:<P></A>
<A NAME="1012807">
<PRE>ExternalWindow extWindow = new ExternalWindow();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>ColorChooser colorPicker = new ColorChooser();<br>colorPicker.setWindow(extWindow);<br>colorPicker.show();</PRE>
</A>
<A NAME="1012808">
When you use the <code>show</code> method to open a color chooser, use the <code>setWindow</code> method to specify which window contains the chooser, as shown in the previous example.<P></A>
<A NAME="1012815">
<a href="compon.mak.html#1008381">See&nbsp;"Windows" on page 25</a> for information about internal and external windows.<P></A>
<A NAME="Font chooser"></A>
<A NAME="1012409">
<H3><FONT FACE="Helvetica,Arial"> Font chooser</FONT></H3>
</A><A NAME="1012410">
Users manipulate the font chooser to specify the font, point size, and style of text in an application or applet. The font chooser can change the attributes of any text that appears in an editable text view component.<P></A>
<A NAME="1012423">
<B>The FontChooser<p><img src="Graphics/fchooser.gif">

</B>
<P>
</A>


<A NAME="1012424">
When working with the font chooser, users select the component that they want to modify. They specify the name of the font, its size, and its style in the chooser, then click Set. The text in the component displays its new attributes immediately.<P></A>
<A NAME="Displaying a font chooser"></A>
<A NAME="1012865">
<H4><FONT FACE="Helvetica,Arial"> Displaying a font chooser</FONT></H4>
</A><A NAME="1012866">
You display a font chooser the same way you display a color chooser, except you use the <code>showFontChooser</code> method of <code>RootView</code>. Like <code>showColorChooser</code>, <code>showFontChooser</code> implicitly instantiates a color chooser and then displays it; you do not need to call the constructor.<P></A>
<A NAME="1012916">
As with a color chooser, you can also use the <code>show</code> method to open a font chooser in an internal or external window. For example, the following code displays a font chooser in the internal window <code>myWindow</code>:<P></A>
<A NAME="1012884">
<PRE>InternalWindow myWindow = new InternalWindow();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>FontChooser fontPicker = new FontChooser();<br>fontPicker.setWindow(myWindow);<br>fopntPicker.show();</PRE>
</A>
<A NAME="File chooser"></A>
<A NAME="1012429">
<H3><FONT FACE="Helvetica,Arial"> File chooser</FONT></H3>
</A><A NAME="1012430">
Users work with the file chooser to load or save a file in your application or appllet. The file chooser appears in an external window and list files that you specify.<P></A>
<A NAME="Displaying a file chooser"></A>
<A NAME="1010874">
<H4><FONT FACE="Helvetica,Arial"> Displaying a file chooser</FONT></H4>
</A><A NAME="1010887">
The IFC provides two constructors in the <code>FileChooser</code> class. To create a file chooser associated with the main root view, use the following constructor:<P></A>
<A NAME="1010975">
<PRE>FileChooser(String title, int type) </PRE>
</A>
<A NAME="1010984">
To create a file chooser associated with any root view, you use the following constructor:<P></A>
<A NAME="1010956">
<PRE>FileChooser(RootView rootView, String title, int type)</PRE>
</A>
<A NAME="1010994">
If you specify null as the value of <code>rootView</code> in this form of the constructor, you also create a chooser associated with the main root view. The string <em>title</em> in both forms of the constructor specifies a title for the chooser. To create a chooser that opens a file, specify <code>LOAD_TYPE</code> as the value of <em>type</em>; to create a chooser that saves a file, specify <code>SAVE_TYPE</code>.<P></A>
<A NAME="1011052">
You must display the file chooser in a modal external window. Use the <code>showModally</code> method of <code>FileChooser</code> to display a file chooser, as shown in the following example:<P></A>
<A NAME="1011998">
<PRE>FileChooser fc = new FileChooser (mainRootView(), "Open file",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileChooser.LOAD_TYPE);<br>fc.setDirectory("c:\data");<br>fc.showModally();</PRE>
</A>
<A NAME="1011119">
<a href="compon.mak.html#1005783">See&nbsp;"External windows" on page 29</a> for information about external windows.<P></A>
<A NAME="Windows"></A>
<A NAME="1008381">
<H2><FONT FACE="Helvetica,Arial"> Windows</FONT></H2>
</A><A NAME="1007629">
Windows are objects that organize data, commands, and other components for users to interact with.<P></A>
<A NAME="1014078">
Most applications use windows to present data and functions. For example, an application can display document data in one window and the controls for a Find dialog box in another window.<P></A>
<A NAME="1014082">
In the IFC library, the <code>InternalWindow</code> class provides an entire system for internal windows; that is, windows used within a Java application. The <code>ExternalWindow</code> class provides support for placing application components in external windows; that is, windows native to the platform on which the Java application is running.<P></A>
<A NAME="1009448">
An application is often interested in important events concerning its windows, such as the user closing or resizing one. Each instance of <code>InternalWindow</code> and <code>ExternalWindow</code> forwards information about these events to its owner, allowing it or some object within the application to react to the events.<P></A>
<A NAME="Internal windows"></A>
<A NAME="1005774">
<H3><FONT FACE="Helvetica,Arial"> Internal windows</FONT></H3>
</A><A NAME="1005776">
Internal windows exist only within a Java application. Each internal window is a <code>View</code> subclass that possesses all of the behavior and properties of a window in any traditional window environment.<P></A>
<A NAME="1007688">
An internal window is always a subview of the root view. Internal windows are unlike other standard components, in that you display them by calling the <code>show</code> method of <code>InternalWindow</code>, not the <code>addSubview</code> method of <code>RootView</code>. To conceal a window and remove it from the view hierarchy, use its <code>hide</code> method.<P></A>
<A NAME="1005779">
The following code creates an internal window with two buttons and displays it on the screen, as shown in <a href="compon.mak.html#1007727">Figure 2.7</a>. The <code>addSubview</code> method specifies that each button is a descendent of the internal window:<P></A>
<A NAME="1012023">
<PRE>import netscape.application.*;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>public class InWin extends Application {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InternalWindow window;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Button buttonA, buttonB;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public void init() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super.init();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Create a window<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window = new InternalWindow (20, 20, 350, 250);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Create buttons<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonA = new Button (10, 180, 64, 24);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonA.setTitle("OK");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.addSubview(buttonA);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonB = new Button (94, 180, 64, 24);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buttonB.setTitle("Cancel");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.addSubview(buttonB);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Display the window<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.show();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>}</PRE>
</A>
<A NAME="1007727">
<B>Simple internal window with two buttons<p><img src="Graphics/window.gif">

</B>
<P>
</A>


<A NAME="1007766">
By default, an internal window has a gray outline and a title bar. To create a window without an outline or title bar, use the <code>setType</code> method in the <code>Window</code> class with the <code>BLANK_TYPE</code> constant:<P></A>
<A NAME="1007785">
<PRE>window = new InternalWindow (20, 20, 350, 250);<br>window.setType(Window.BLANK_TYPE);</PRE>
</A>
<A NAME="1007782">
You can also specify the type of a window in a constructor when you instantiate the window:<P></A>
<A NAME="1007799">
<PRE>window = new InternalWindow (Window.BLANK_TYPE, 20, 20, 350, 250);</PRE>
</A>
<A NAME="1007797">
Use the set-prefixed methods to customize the appearance of an internal window. For example, <code>setResizable</code> and <code>setCloseable</code> let a user resize and close a window.<P></A>
<A NAME="1007796">
<B>A customized internal window<p><img src="Graphics/custwin.gif">

</B>
<P>
</A>


<A NAME="1007812">
Like all subclasses of <code>View</code>, an instance of <code>InternalWindow</code> is rectangular by default. You can make an internal window appear nonrectangular by making it transparent. <a href="drawing.mak.html#996824">See&nbsp;"Drawing to the screen" on page 35 for more information.</a> To completely customize a window's appearance or behavior, create your own <code>InternalWindow</code> subclass.<P></A>
<A NAME="Z-order of internal windows"></A>
<A NAME="1007918">
<H4><FONT FACE="Helvetica,Arial"> Z-order of internal windows</FONT></H4>
</A><A NAME="1007862">
The <B>z-order</B> is the arrangement of objects along the z-axis, or the axis that is perpendicular to the monitor's face. Objects that are higher in the z-order are displayed above objects that are lower in the z-order.<P></A>
<A NAME="1012656">
Internal windows maintain the expected display order with respect to each other. For example, when a user clicks an internal window, it moves in front of another internal window.<P></A>
<A NAME="1007867">
You can specify layers for windows within the z-order of an IFC application. Objects in a lower layer cannot obscure objects in a higher z-order layer. The <code>InternalWindow</code> class provides the following layer constants, from lowest to highest:<P></A>
<ul><A NAME="1007877">
<LI><code>DEFAULT_LAYER</code>
</A><A NAME="1007879">
<LI><code>PALETTE_LAYER</code>
</A><A NAME="1007881">
<LI><code>POPUP_LAYER</code>
</A><A NAME="1007882">
<LI><code>DRAG_LAYER</code>
</A></ul><A NAME="1007878">
For example, to create a floating palette that a document window cannot obscure, create the palette in the palette layer and the document windows in the default layer. Call the <code>setLayer</code> method and pass it one of the layer variables to specify a window's layer:<P></A>
<A NAME="1007911">
<PRE>window = new InternalWindow (20, 20, 350, 250);<br>window.setLayer(InternalWindow.PALETTE_LAYER);</PRE>
</A>
<A NAME="1013835">
You should usually place windows only in the default layer or the palette layer. The popup layer is used to display pop-up menus above all other application elements, and a window in this layer can obscure a pop-up menu. The drag layer is the highest layer because it is used by the drag-and-drop framework. <a href="dragdrop.mak.html#996824">See&nbsp;"Implementing drag and drop" on page 53</a> for more information about <code>DRAG_LAYER</code>.<P></A>
<A NAME="1013839">
The values of these predefined layer constants are nonconsecutive integers. Thus, you can create your own layers above or below the predefined layers if you have a special need. For example, you can use this code to place an object higher in the layer hierarchy than the palette layer:<P></A>
<A NAME="1008834">
<PRE>window.setLayer(InternalWindow.PALETTE_LAYER+1);</PRE>
</A>
<A NAME="External windows"></A>
<A NAME="1005783">
<H3><FONT FACE="Helvetica,Arial"> External windows</FONT></H3>
</A><A NAME="1007987">
Although external windows exist outside an IFC application, they are controlled by it. These objects are also called native windows, because they are created and managed by the native platform's window system. An external window created by an application on the Macintosh is a Macintosh window. When the same application runs under Windows NT, it creates an NT window. Internal and external windows both implement the <code>Window</code> interface.<P></A>
<A NAME="1007995">
To instantiate an external window, call the constructor in the <code>ExternalWindow</code> class:<P></A>
<A NAME="1007998">
<PRE>window = new ExternalWindow ();</PRE>
</A>
<A NAME="1010495">
Like <code>InternalWindow</code>, the <code>ExternalWindow</code> class uses the <code>show</code> and <code>hide</code> methods to display and remove an external window. For example, to display the external window called <code>window</code>, issue the following statement:<P></A>
<A NAME="1010496">
<PRE>window.show();</PRE>
</A>
<A NAME="1007996">
Unlike an internal window, an external window has its own root view and view hierarchy. If the external window is created by a stand-alone application, the application has only one root view. If the external window is created by an applet, the applet has two root views and two view hierarchies, because every applet has a default root view<em>.</em><P></A>
<HR>
<A NAME="Making views scrollable"></A>
<A NAME="1009396">
<H1><FONT FACE="Helvetica,Arial"> Making views scrollable</FONT></H1>
</A><A NAME="1009397">
Large views are easier to display and navigate through when you make them scrollable. For example, if you place scroll bars on a very large text view, users still have a large area in which to enter data, but they use the scroll bars to display parts of the text view that are not visible.<P></A>
<A NAME="1009405">
<B>A text view component with scroll bars<p><img src="Graphics/scroll.gif">

</B>
<P>
</A>


<A NAME="1009409">
Use either of the these two techniques to make an IFC view scrollable:<P></A>
<ul><A NAME="1009410">
<LI>Instantiate an object of the <code>ScrollGroup</code> class and pass it the view object that you want to make scrollable.
</A><A NAME="1009411">
The <code>ScrollGroup</code> class automatically provides scroll bars for the view.
<P>
</A>

<A NAME="1009412">
<LI>Instantiate an object of the <code>ScrollView</code> class and pass it the view object that you want to make scrollable.
</A><A NAME="1009413">
Because <code>ScrollView</code> does not provide controls such as scroll bars, you 
must create them by using the <code>ScrollBar</code> class.
<P>
</A>

</ul><A NAME="1009414">
Using the <code>ScrollGroup</code> class is the most convenient way to add scroll bars to any view. To use <code>ScrollGroup</code>, create the component to which you want to add scroll bars, then call the <code>ScrollGroup</code> constructor and use its <code>setContentView</code> method to specify that component. Use other methods of <code>ScrollGroup</code> to specify where the scroll bars should appear and how the component should behave.<P></A>
<A NAME="1009415">
For example, the following code creates a text view called <code>textComponent</code> and passes it to a scroll group. Finally, the code makes the text view a subview of window.<P></A>
<A NAME="1009416">
<PRE>// Create a TextView component<br>TextView textComponent = new TextView(24, 24, 400, 450);<br>textComponent.setBackgroundColor(Color.white);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>// Scroll bars for the TextView component<br>ScrollGroup textGroup = new ScrollGroup(24, 24, 200, 150);<br>textGroup.setContentView(textComponent);<br>textGroup.setHasVertScrollBar(true);<br>textGroup.setHasHorizScrollBar(true);<br>textGroup.setBorder(new BezelBorder(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BezelBorder.LOWERED, Color.lightGray));<br>textGroup.setBackgroundColor(Color.white);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>window.addSubview(textGroup);</PRE>
</A>
<A NAME="1009417">
In the previous example, the <code>setHasVertScrollBar</code> and <code>setHasHorizScrollBar</code> methods display a vertical and horizontal scroll bar on the scroll group <code>textGroup</code>. The <code>setBorder</code> method displays a gray border around the scroll group, and the <code>setBackgroundColor</code> method makes the background color of the scroll group the same as the background color of the text component.<P></A>
<HR>
<A NAME="Resizing Views"></A>
<A NAME="1009505">
<H1><FONT FACE="Helvetica,Arial"> Resizing Views</FONT></H1>
</A><A NAME="1009506">
Whenever a view changes size, the sizes and positions of its subviews must be examined and, if necessary, adjusted accordingly. For example, you may want a text field on a form to be resized as the form itself changes size. The <code>View</code> class contains an autoresizing<em> </em>mechanism to automate these adjustments. Whenever a view is resized, this mechanism automatically resizes and repositions its subviews.<P></A>
<A NAME="1009780">
The way that a view modifies a subview is governed by the subview's <B>resize instructions</B>. Each view contains a horizontal and vertical resize instruction to specify its behavior when its superview changes size.<P></A>
<A NAME="1009512">
The horizontal resize instruction can specify any of the following values:<P></A>
<ul><A NAME="1009514">
<LI><code>LEFT_MARGIN_CAN_CHANGE</code> specifies that the distance between the left edge of a view and the left edge of its superview can change.
</A><A NAME="1009727">
<LI><code>RIGHT_MARGIN_CAN_CHANGE</code> specifies that the distance between the right edge of a view and the right edge of its superview can change.
</A><A NAME="1009728">
<LI><code>WIDTH_CAN_CHANGE</code> specifies that the width of the view itself can change.
</A></ul><A NAME="1009738">
The vertical resize instruction can specify any of the following values:<P></A>
<ul><A NAME="1009521">
<LI><code>TOP_MARGIN_CAN_CHANGE</code> specifies that the distance between the top edge of a view and the top edge of its superview can change.
</A><A NAME="1009523">
<LI><code>BOTTOM_MARGIN_CAN_CHANGE</code> specifies that the distance between the bottom edge of a view and the bottom edge of its superview can change.
</A><A NAME="1009525">
<LI><code>HEIGHT_CAN_CHANGE</code> specifies that the height of the view itself can change.
</A></ul><A NAME="1009528">
By default, a view is created with the <code>RIGHT_MARGIN_CAN_CHANGE</code> and the <code>BOTTOM_MARGIN_CAN_CHANGE</code> resize instructions. Use the <code>setHorizResizeInstruction</code> and <code>setVertResizeInstruction</code> methods of <code>View</code> to customize its resize behavior. For example, you can set the horizontal resize instruction for a text view called <code>textComponent</code> as follows:<P></A>
<A NAME="1010237">
<PRE>textComponent.setHorizResizeInstruction(View.RIGHT_MARGIN_CAN_CHANGE);</PRE>
</A>
<A NAME="1009860">
<B><code>RIGHT_MARGIN_CAN_CHANGE</code> resize instruction
<img src="Graphics/compon.mak.anc10.gif">


</B>
<P>
</A>


<A NAME="1009593">
To allow the width of the subview to change as the user resizes the superview, use this instruction:<P></A>
<A NAME="1010264">
<PRE>textComponent.setHorizResizeInstruction(View.WIDTH_CAN_CHANGE);</PRE>
</A>
<A NAME="1009929">
<B><code>WIDTH_CAN_CHANGE</code> resize instruction
<img src="Graphics/compon.mak.anc11.gif">


</B>
<P>
</A>


<A NAME="1009655">
The predefined options for horizontal and vertical resize instructions handle most resize situations. To perform special subview resizing, override the <code>didSizeBy</code><B> </B>method of <code>View</code>, which resizes a view's subviews, and implement your custom resize behavior.<P></A>

<hr><br>

<P>
<SCRIPT>
document.write("<FONT SIZE=-2>Last modified " + document.lastModified)
</SCRIPT>
<P>
</body>
</html>
