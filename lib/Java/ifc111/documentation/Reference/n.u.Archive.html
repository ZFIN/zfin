<!--NewPage-->
<html>
<head>
<!-- Generated by netdoc on Mon Jul 21 17:01:16  1997 -->
<a name="_top_"></a>
<title>
  Class Archive
</title>
</head>
<body BGCOLOR="#ffffff">
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.util.html">This Package</a>  <a href="Package-n.util.html">Previous</a>  <a href="Package-n.util.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>Class Archive</h1>
<a name="index"></a>
<pre>
public class netscape.util.<b>Archive</b>
    extends java.lang.<a href="java.lang.Object.html#_top_">Object</a>
{
    /* Constructors
     */
    public <a href="#Archive()">Archive</a>();

    /* Methods
     */
    public void <a href="#addClassTable(netscape.util.ClassTable)">addClassTable</a>(ClassTable);
    public void <a href="#addRootIdentifier(int)">addRootIdentifier</a>(int);
    public ClassTable <a href="#classTableForIdentifier(int)">classTableForIdentifier</a>(int);
    public ClassTable <a href="#classTableForName(java.lang.String)">classTableForName</a>(String);
    public int <a href="#identifierCount()">identifierCount</a>();
    public int <a href="#mapIdentifier(netscape.util.ClassTable, int)">mapIdentifier</a>(ClassTable, int);
    public void <a href="#read(java.io.InputStream)">read</a>(InputStream);
    public void <a href="#readASCII(java.io.InputStream)">readASCII</a>(InputStream);
    public boolean <a href="#removeRootIdentifier(int)">removeRootIdentifier</a>(int);
    public int[] <a href="#rootIdentifiers()">rootIdentifiers</a>();
    public int <a href="#rowForIdentifier(int)">rowForIdentifier</a>(int);
    public void <a href="#write(java.io.OutputStream)">write</a>(OutputStream);
    public void <a href="#writeASCII(java.io.OutputStream, boolean)">writeASCII</a>(OutputStream, boolean);
}
</pre>
Object subclass used by the Archiver and Unarchiver to store the
encoded state of Codable objects. Archives contain a collection of
ClassTables and a mapping of object identifiers to a row in a specific
ClassTable. Each ClassTable row corresponds to an encoded object.
References between objects are encoded as opaque integers (identifiers).
The archive also maintains a set of root identifiers from which all
objects in the archive can be reached. Most programs will not need to
deal directly with the Archive class, but instead will work with Archivers
and Unarchivers.
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#_top_">ClassTable</a>, <a href="n.u.Archiver.html#_top_">Archiver</a>, <a href="n.u.Unarchiver.html#_top_">Unarchiver</a>
</dl>
<hr>
<a name="constructors"></a>
<h1>
Constructors
</h1>
<a name="Archive"></a>
<h2> <a name="Archive()"><font color="#ffffff">.</font></a>Archive </h2>
<pre>
  public Archive()
</pre>
<dl>
  <dd> Constructs a new, empty Archive.
</dl>
<a name="methods"></a>
<h1>
Methods
</h1>
<h2> <a name="addRootIdentifier(int)"><font color="#ffffff">.</font></a><a name="addRootIdentifier">addRootIdentifier</a> </h2>
<pre>
  public void addRootIdentifier(int id)
</pre>
<dl>
  <dd> Adds an identifier to the array of root identifiers. The identifier
must be created by calling <b>newIdentifier()</b> on a ClassTable.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#newIdentifier">newIdentifier</a>
  </dl>
</dl>
<h2> <a name="removeRootIdentifier(int)"><font color="#ffffff">.</font></a><a name="removeRootIdentifier">removeRootIdentifier</a> </h2>
<pre>
  public boolean removeRootIdentifier(int id)
</pre>
<dl>
  <dd> Removes an identifier from the array of root identifiers. Returns
<b>true</b> if the identifier was in the array, <b>false</b> if it
was not.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#addRootIdentifier">addRootIdentifier</a>
  </dl>
</dl>
<h2> <a name="rootIdentifiers()"><font color="#ffffff">.</font></a><a name="rootIdentifiers">rootIdentifiers</a> </h2>
<pre>
  public int[] rootIdentifiers()
</pre>
<dl>
  <dd> Returns a copy of the root identifier array.
</dl>
<h2> <a name="classTableForName(java.lang.String)"><font color="#ffffff">.</font></a><a name="classTableForName">classTableForName</a> </h2>
<pre>
  public <a href="n.u.ClassTable.html#_top_">ClassTable</a> classTableForName(String className)
</pre>
<dl>
  <dd> Returns the ClassTable for a given class name.
</dl>
<h2> <a name="addClassTable(netscape.util.ClassTable)"><font color="#ffffff">.</font></a><a name="addClassTable">addClassTable</a> </h2>
<pre>
  public void addClassTable(<a href="n.u.ClassTable.html#_top_">ClassTable</a> table)
</pre>
<dl>
  <dd> Adds a new ClassTable to the archive. This should be called after
creating a new ClassTable.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#_top_">ClassTable</a>
  </dl>
</dl>
<h2> <a name="classTableForIdentifier(int)"><font color="#ffffff">.</font></a><a name="classTableForIdentifier">classTableForIdentifier</a> </h2>
<pre>
  public <a href="n.u.ClassTable.html#_top_">ClassTable</a> classTableForIdentifier(int id)
</pre>
<dl>
  <dd> Returns the ClassTable for a given object identifier in the archive.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#_top_">ClassTable</a>
  </dl>
</dl>
<h2> <a name="rowForIdentifier(int)"><font color="#ffffff">.</font></a><a name="rowForIdentifier">rowForIdentifier</a> </h2>
<pre>
  public int rowForIdentifier(int id)
</pre>
<dl>
  <dd> Returns the row for a given object identifier in the archive.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#_top_">ClassTable</a>
  </dl>
</dl>
<h2> <a name="mapIdentifier(netscape.util.ClassTable, int)"><font color="#ffffff">.</font></a><a name="mapIdentifier">mapIdentifier</a> </h2>
<pre>
  public int mapIdentifier(<a href="n.u.ClassTable.html#_top_">ClassTable</a> table,
                           int row)
</pre>
<dl>
  <dd> Primitive method for mapping a ClassTable and row to a new object
identifier. Most programs will simply call
<b>ClassTable.newIdentifier()</b> to get a new object identifier.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassTable.html#newIdentifier">newIdentifier</a>
  </dl>
</dl>
<h2> <a name="identifierCount()"><font color="#ffffff">.</font></a><a name="identifierCount">identifierCount</a> </h2>
<pre>
  public int identifierCount()
</pre>
<dl>
  <dd> Returns the number of object identifiers in the archive. All
identifiers will be between 0 and (identifierCount() - 1), inclusive.
</dl>
<h2> <a name="read(java.io.InputStream)"><font color="#ffffff">.</font></a><a name="read">read</a> </h2>
<pre>
  public void read(java.io.InputStream inputStream) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Reads a binary serialization of the Archive's contents from
<b>inputStream</b>.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Unarchiver.html#readObject">readObject</a>
  </dl>
</dl>
<h2> <a name="write(java.io.OutputStream)"><font color="#ffffff">.</font></a><a name="write">write</a> </h2>
<pre>
  public void write(java.io.OutputStream outputStream) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Writes a binary serialization of the Archive's contents to
<b>outputStream</b>.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Archiver.html#writeObject">writeObject</a>
  </dl>
</dl>
<h2> <a name="readASCII(java.io.InputStream)"><font color="#ffffff">.</font></a><a name="readASCII">readASCII</a> </h2>
<pre>
  public void readASCII(java.io.InputStream inputStream) throws <a href="n.u.CodingException.html#_top_">CodingException</a>, <a href="n.u.DeserializationException.html#_top_">DeserializationException</a>, <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Reads an ASCII serialization of the Archive's contents from
<b>inputStream</b>.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Serializer.html#_top_">Serializer</a>, <a href="n.u.Deserializer.html#_top_">Deserializer</a>
  </dl>
</dl>
<h2> <a name="writeASCII(java.io.OutputStream, boolean)"><font color="#ffffff">.</font></a><a name="writeASCII">writeASCII</a> </h2>
<pre>
  public void writeASCII(java.io.OutputStream outputStream,
                         boolean formatted) throws <a href="n.u.CodingException.html#_top_">CodingException</a>, <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Writes an ASCII serialization of the Archive's contents to
<b>outputStream</b>.  If <b>formatted</b> is <b>true</b>, the Archive
formats the output for easy reading.  If <b>false</b>, the output will
be as compact as possible.
  <dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Serializer.html#_top_">Serializer</a>, <a href="n.u.Deserializer.html#_top_">Deserializer</a>
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.util.html">This Package</a>  <a href="Package-n.util.html">Previous</a>  <a href="Package-n.util.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<HR><center><font size=-1>
Copyright &#169 1997 <a href="http://home.netscape.com/misc/contact_info.html"> Netscape Communications Corporation</a>. All rights reserved
<BR>Please send any comments or corrections to <a href="mailto:ifcfeedback@netscape.com">ifcfeedback@netscape.com</a>
<BR>HTML generated on 22 Jul 1997
</center></FONT>
</body>
</html>
