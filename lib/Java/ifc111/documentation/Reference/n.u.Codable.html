<!--NewPage-->
<html>
<head>
<!-- Generated by netdoc on Mon Jul 21 17:01:16  1997 -->
<a name="_top_"></a>
<title>
  Interface Codable
</title>
</head>
<body BGCOLOR="#ffffff">
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.util.html">This Package</a>  <a href="Package-n.util.html">Previous</a>  <a href="Package-n.util.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>Interface Codable</h1>
<a name="index"></a>
<pre>
public interface netscape.util.<b>Codable</b>
{
    /* Fields
     */
    public final static byte <a href="#BOOLEAN_ARRAY_TYPE">BOOLEAN_ARRAY_TYPE</a>;
    public final static byte <a href="#BOOLEAN_TYPE">BOOLEAN_TYPE</a>;
    public final static byte <a href="#BYTE_ARRAY_TYPE">BYTE_ARRAY_TYPE</a>;
    public final static byte <a href="#BYTE_TYPE">BYTE_TYPE</a>;
    public final static byte <a href="#CHAR_ARRAY_TYPE">CHAR_ARRAY_TYPE</a>;
    public final static byte <a href="#CHAR_TYPE">CHAR_TYPE</a>;
    public final static byte <a href="#DOUBLE_ARRAY_TYPE">DOUBLE_ARRAY_TYPE</a>;
    public final static byte <a href="#DOUBLE_TYPE">DOUBLE_TYPE</a>;
    public final static byte <a href="#FLOAT_ARRAY_TYPE">FLOAT_ARRAY_TYPE</a>;
    public final static byte <a href="#FLOAT_TYPE">FLOAT_TYPE</a>;
    public final static byte <a href="#INT_ARRAY_TYPE">INT_ARRAY_TYPE</a>;
    public final static byte <a href="#INT_TYPE">INT_TYPE</a>;
    public final static byte <a href="#LONG_ARRAY_TYPE">LONG_ARRAY_TYPE</a>;
    public final static byte <a href="#LONG_TYPE">LONG_TYPE</a>;
    public final static byte <a href="#OBJECT_ARRAY_TYPE">OBJECT_ARRAY_TYPE</a>;
    public final static byte <a href="#OBJECT_TYPE">OBJECT_TYPE</a>;
    public final static byte <a href="#SHORT_ARRAY_TYPE">SHORT_ARRAY_TYPE</a>;
    public final static byte <a href="#SHORT_TYPE">SHORT_TYPE</a>;
    public final static byte <a href="#STRING_ARRAY_TYPE">STRING_ARRAY_TYPE</a>;
    public final static byte <a href="#STRING_TYPE">STRING_TYPE</a>;

    /* Methods
     */
    public abstract void <a href="#decode(netscape.util.Decoder)">decode</a>(Decoder);
    public abstract void <a href="#describeClassInfo(netscape.util.ClassInfo)">describeClassInfo</a>(ClassInfo);
    public abstract void <a href="#encode(netscape.util.Encoder)">encode</a>(Encoder);
    public abstract void <a href="#finishDecoding()">finishDecoding</a>();
}
</pre>
The Codable interface declares the methods that permit objects of public
classes to be archived and restored. If you are writing an application
that simply stores and retrieves objects of a codable class (that is,
the class implements the <b>Codable</b> interface), you don't need to
know the details of the <b>Codable</b> interface. Rather, you use the
methods provided by the <b>Archiver</b> and <b>Unarchiver</b> classes to
store and retrieve codable objects. <P>
However, if you are providing a class and you want applications to be
able to archive and restore objects of that class, you must implement
the <b>Codable</b> interface in that class. The methods of the
<b>Codable</b> interface, called by <b>Archiver</b> and
<b>Unarchiver</b> objects, enable an object to describe its essential
characteristics, and encode and decode the state of those
characteristics. </P>
<P>When an <b>Archiver</b> object calls the codable object's
describeClassInfo() method, the codable object provides its class name
and version and a set of key/type pairs. The key is a string defined by
the codable object's class that labels a characteristic of object of
that class. The type is a constant, defined by the <b>Codable</b>
interface, that identifies a codable data type.</P>
<P>When an <b>Archiver</b> object calls the codable object's encode()
method, the codable object describes its essential state by providing
a set of key/value pairs. The key identifies a characteristic previously
defined through <b>describeClassInfo()</b>. The value is the current
value of the characteristic. Encoding an object refers to reporting its
current key/value pairs.</P>
<P>When an object is to be restored from an archive, IFC calls the
object's empty constructor and then calls its <b>decode()</b> method to
initialize it with the values of the object's characteristics saved in the
archive. <i><b>Note:</b> that classes that support the <b>Codable</b>
interface must provide a public empty constructor in order for decoding to
work properly.</i> </P>
<P>The <b>View</b> class is codable. If you subclass <b>View</b>, you
need to implement the <b>Codable</b> interface to save what is unique about
your class. </P>
<P>The following sample shows how a custom subclass of <b>View</b> might
encode itself. </P>
<pre>
public class MyView extends View {
        Codable someObject;
        public MyView() {
        }
        public void describeClassInfo(ClassInfo info) {
                        super.describeClassInfo(info);
                        info.addClass("MyView", 1);
                        info.addField("someObject", OBJECT_TYPE);
        }
        public void encode(Encoder encoder) throws CodingException {
                        super.encode(encoder);
                        encoder.encodeObject("someObject", someObject);
        }
        public void decode(Decoder decoder) throws CodingException {
                        super.decode(decoder);
                        someObject = decoder.decodeObject("someObject");
        }
        public void finishDecoding() throws CodingException {
                        super.finishDecoding();
        }
}
</pre>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Encoder.html#_top_">Encoder</a>, <a href="n.u.Decoder.html#_top_">Decoder</a>, <a href="n.u.Archiver.html#_top_">Archiver</a>, <a href="n.u.Unarchiver.html#_top_">Unarchiver</a>, <a href="n.u.ClassInfo.html#_top_">ClassInfo</a>
</dl>
<hr>
<a name="variables"></a>
<h1>
Fields
</h1>
<a name="BOOLEAN_TYPE"></a>
<h2>BOOLEAN_TYPE</h2>
<pre>
  public final static byte BOOLEAN_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type boolean.
</dl>
<a name="BOOLEAN_ARRAY_TYPE"></a>
<h2>BOOLEAN_ARRAY_TYPE</h2>
<pre>
  public final static byte BOOLEAN_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type boolean.
</dl>
<a name="CHAR_TYPE"></a>
<h2>CHAR_TYPE</h2>
<pre>
  public final static byte CHAR_TYPE
</pre>
<dl>
  <dd> Primitive Codable type.
</dl>
<a name="CHAR_ARRAY_TYPE"></a>
<h2>CHAR_ARRAY_TYPE</h2>
<pre>
  public final static byte CHAR_ARRAY_TYPE
</pre>
<dl>
  <dd> Primitive Codable type.
</dl>
<a name="BYTE_TYPE"></a>
<h2>BYTE_TYPE</h2>
<pre>
  public final static byte BYTE_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type byte.
</dl>
<a name="BYTE_ARRAY_TYPE"></a>
<h2>BYTE_ARRAY_TYPE</h2>
<pre>
  public final static byte BYTE_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type byte.
</dl>
<a name="SHORT_TYPE"></a>
<h2>SHORT_TYPE</h2>
<pre>
  public final static byte SHORT_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type short.
</dl>
<a name="SHORT_ARRAY_TYPE"></a>
<h2>SHORT_ARRAY_TYPE</h2>
<pre>
  public final static byte SHORT_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type short.
</dl>
<a name="INT_TYPE"></a>
<h2>INT_TYPE</h2>
<pre>
  public final static byte INT_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type int.
</dl>
<a name="INT_ARRAY_TYPE"></a>
<h2>INT_ARRAY_TYPE</h2>
<pre>
  public final static byte INT_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type int.
</dl>
<a name="LONG_TYPE"></a>
<h2>LONG_TYPE</h2>
<pre>
  public final static byte LONG_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type long.
</dl>
<a name="LONG_ARRAY_TYPE"></a>
<h2>LONG_ARRAY_TYPE</h2>
<pre>
  public final static byte LONG_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type long.
</dl>
<a name="FLOAT_TYPE"></a>
<h2>FLOAT_TYPE</h2>
<pre>
  public final static byte FLOAT_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type float.
</dl>
<a name="FLOAT_ARRAY_TYPE"></a>
<h2>FLOAT_ARRAY_TYPE</h2>
<pre>
  public final static byte FLOAT_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type float.
</dl>
<a name="DOUBLE_TYPE"></a>
<h2>DOUBLE_TYPE</h2>
<pre>
  public final static byte DOUBLE_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type double.
</dl>
<a name="DOUBLE_ARRAY_TYPE"></a>
<h2>DOUBLE_ARRAY_TYPE</h2>
<pre>
  public final static byte DOUBLE_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type double.
</dl>
<a name="STRING_TYPE"></a>
<h2>STRING_TYPE</h2>
<pre>
  public final static byte STRING_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying data of type string.
</dl>
<a name="STRING_ARRAY_TYPE"></a>
<h2>STRING_ARRAY_TYPE</h2>
<pre>
  public final static byte STRING_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of data of type string.
</dl>
<a name="OBJECT_TYPE"></a>
<h2>OBJECT_TYPE</h2>
<pre>
  public final static byte OBJECT_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying object data.
</dl>
<a name="OBJECT_ARRAY_TYPE"></a>
<h2>OBJECT_ARRAY_TYPE</h2>
<pre>
  public final static byte OBJECT_ARRAY_TYPE
</pre>
<dl>
  <dd> The codable data type constant specifying an array of objects.
</dl>
<a name="methods"></a>
<h1>
Methods
</h1>
<h2> <a name="describeClassInfo(netscape.util.ClassInfo)"><font color="#ffffff">.</font></a><a name="describeClassInfo">describeClassInfo</a> </h2>
<pre>
  public abstract void describeClassInfo(<a href="n.u.ClassInfo.html#_top_">ClassInfo</a> info)
</pre>
<dl>
  <dd> Defines the key/type pairs that describe the essential characteristics
of a class. Typically, this method is called by an IFC <b>Archiver</b>
object, not an application. <P>Each class that can be archived has a
schema that defines the critical information to be saved for a given
instance of that class. This method provides the field names and
<b>Codable</b> data types that define the information to be archived for
object of a given classs, along with the class name and class version.
The field names frequently correspond to the instance variables in the
class.</P>
<P>If you are providing a new class that you want to be archivable, you
implement <b>describeClassInfo()</b> to describe the key characteristics
of your class. If your class is a subclass of a <b>Codable</b> class,
first call super.describeClassInfo() to allow the superclass to add its
class name, class version, and key/type pairs. Then call info.addClass()
and info.addField() to add the key/type pairs that describe your class.
</P>
<P>Note that because subclasses of your class can call this method, it
might be invoked multiple times. As a result, <b>describeClassInfo()</b>
should not contain any code that should not be executed more than once.</P>
<P>See the sample code in the class description.</P>
  <dl>
    <dt> <b>Parameters:</b>
    <dd> info - A ClassInfo object that describes the schema to encode
the class. The called object populates the instance with the information
for its class.
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.ClassInfo.html#_top_">ClassInfo</a>, <a href="n.u.Archiver.html#_top_">Archiver</a>
  </dl>
</dl>
<h2> <a name="encode(netscape.util.Encoder)"><font color="#ffffff">.</font></a><a name="encode">encode</a> </h2>
<pre>
  public abstract void encode(<a href="n.u.Encoder.html#_top_">Encoder</a> encoder) throws <a href="n.u.CodingException.html#_top_">CodingException</a>
</pre>
<dl>
  <dd> Encodes the essential state of an object. This method is called by an
<b>Archiver</b> object to obtain the key/value pair information that
defines the called object's current state.
<P>An object of a class that implements this method calls the
appropriate Encoder methods to provide key/value pair information for
the characteristics defined by its <b>describeClassInfo()</b> method.
</P><P>The order in which an object encodes its key/value pairs is not
important. However, it is more efficient to encode them in the same
order that the keys are added in <b>describeClassInfo()</b>. </P>
<P>See the class description for information about key/value pairs.
  <dl>
    <dt> <b>Parameters:</b>
    <dd> encoder - An Encoder object that stores state information for an
object to be archived. The called object populates the instance with
information about its state.
    <dt> <b>Throws:</b> <a href="n.u.CodingException.html#_top_">CodingException</a>
    <dd> Occurs when the object cannot be encoded
completely.
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Encoder.html#_top_">Encoder</a>, <a href="n.u.Archiver.html#_top_">Archiver</a>
  </dl>
</dl>
<h2> <a name="decode(netscape.util.Decoder)"><font color="#ffffff">.</font></a><a name="decode">decode</a> </h2>
<pre>
  public abstract void decode(<a href="n.u.Decoder.html#_top_">Decoder</a> decoder) throws <a href="n.u.CodingException.html#_top_">CodingException</a>
</pre>
<dl>
  <dd> Restores an archived object's essential state. Typically, an
<b>Archiver</b> object calls this method immediately after calling the
archived object's empty constructor. The new object then restores
the saved state by calling the appropriate Decoder methods.
<P>When implementing this method, you can restore your object's key/value
pairs in any order. However, it is most efficient to decode them in
the same order that you add the keys in the <b>describeClassInfo()</b>
method. </P>
  <dl>
    <dt> <b>Parameters:</b>
    <dd> decoder - A Decoder object containing the saved state
information for the object to be restored.
    <dt> <b>Throws:</b> <a href="n.u.CodingException.html#_top_">CodingException</a>
    <dd> Occurs when the object cannot be decoded
completely.
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Decoder.html#_top_">Decoder</a>, <a href="n.u.Unarchiver.html#_top_">Unarchiver</a>
  </dl>
</dl>
<h2> <a name="finishDecoding()"><font color="#ffffff">.</font></a><a name="finishDecoding">finishDecoding</a> </h2>
<pre>
  public abstract void finishDecoding() throws <a href="n.u.CodingException.html#_top_">CodingException</a>
</pre>
<dl>
  <dd> Gives a restored object an opportunity to communicate with its related
objects after all have been decoded. When an object containing a reference
to another encoded object is restored from an archive, the referenced
object may not be fully initialized. This method provides an opportunity
to complete the initialization. More specifically, objects retrieved from
<b>decodeObject()</b> might not have been fully initialized, so
finishDecoding() gives newly created instances an opportunity to talk to
other objects just after <b>decode()</b> hasbeen called on all of them.
  <dl>
    <dt> <b>Throws:</b> <a href="n.u.CodingException.html#_top_">CodingException</a>
    <dd> Occurs when the object cannot be encoded
completely.
    <dt> <b>See Also:</b>
    <dd> <a href="n.u.Decoder.html#_top_">Decoder</a>, <a href="n.u.Unarchiver.html#_top_">Unarchiver</a>
  </dl>
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.util.html">This Package</a>  <a href="Package-n.util.html">Previous</a>  <a href="Package-n.util.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<HR><center><font size=-1>
Copyright &#169 1997 <a href="http://home.netscape.com/misc/contact_info.html"> Netscape Communications Corporation</a>. All rights reserved
<BR>Please send any comments or corrections to <a href="mailto:ifcfeedback@netscape.com">ifcfeedback@netscape.com</a>
<BR>HTML generated on 22 Jul 1997
</center></FONT>
</body>
</html>
