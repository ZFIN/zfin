<!--NewPage-->
<html>
<head>
<!-- Generated by netdoc on Mon Jul 21 17:01:16  1997 -->
<a name="_top_"></a>
<title>
  Class Plan
</title>
</head>
<body BGCOLOR="#ffffff">
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.constructor.html">This Package</a>  <a href="Package-n.constructor.html">Previous</a>  <a href="Package-n.constructor.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<hr>
<h1>Class Plan</h1>
<a name="index"></a>
<pre>
public class netscape.constructor.<b>Plan</b>
    extends java.lang.<a href="java.lang.Object.html#_top_">Object</a>
    implements netscape.application.<a href="n.a.ExtendedTarget.html#_top_">ExtendedTarget</a>,
               netscape.util.<a href="n.u.Codable.html#_top_">Codable</a>,
               java.lang.<a href="java.lang.Cloneable.html#_top_">Cloneable</a>
{
    /* Fields
     */
    public final static String <a href="#ASCII_FILE_EXTENSION">ASCII_FILE_EXTENSION</a>;
    public final static int <a href="#ASCII_TYPE">ASCII_TYPE</a>;
    public final static String <a href="#BINARY_FILE_EXTENSION">BINARY_FILE_EXTENSION</a>;
    public final static int <a href="#BINARY_TYPE">BINARY_TYPE</a>;

    /* Constructors
     */
    public <a href="#Plan(java.lang.String)">Plan</a>(String);
    public <a href="#Plan(java.lang.String, netscape.util.Hashtable)">Plan</a>(String, Hashtable);
    public <a href="#Plan(java.lang.String, netscape.application.Target)">Plan</a>(String, Target);
    public <a href="#Plan(java.io.InputStream, int)">Plan</a>(InputStream, int);

    /* Methods
     */
    public static Plan <a href="#createPlan(java.lang.String)">createPlan</a>(String);
    public static Plan <a href="#createPlan(java.lang.String, netscape.util.Hashtable)">createPlan</a>(String, Hashtable);
    public static Plan <a href="#createPlan(java.lang.String, netscape.application.Target)">createPlan</a>(String, Target);
    public static Plan <a href="#createPlan(java.io.InputStream, int)">createPlan</a>(InputStream, int);

    public void <a href="#addContentsToView(netscape.application.View)">addContentsToView</a>(View);
    public Color <a href="#backgroundColor()">backgroundColor</a>();
    public Rect <a href="#boundingRect()">boundingRect</a>();
    public Object <a href="#componentNamed(java.lang.String)">componentNamed</a>(String);
    public Vector <a href="#components()">components</a>();
    public ExternalWindow <a href="#externalWindowWithContents()">externalWindowWithContents</a>();
    public InternalWindow <a href="#internalWindowWithContents()">internalWindowWithContents</a>();
    public void <a href="#moveBy(int, int)">moveBy</a>(int, int);
    public Hashtable <a href="#nameToComponent()">nameToComponent</a>();
    public Hashtable <a href="#objectToBounds()">objectToBounds</a>();
    public void <a href="#releaseObjects()">releaseObjects</a>();
    public Vector <a href="#rootComponents()">rootComponents</a>();
    public Size <a href="#size()">size</a>();
    public void <a href="#sizeToFit()">sizeToFit</a>();
    public boolean <a href="#unarchiveObjects(netscape.util.Hashtable)">unarchiveObjects</a>(Hashtable);
    public boolean <a href="#unarchiveObjects(netscape.application.Target)">unarchiveObjects</a>(Target);
    public boolean <a href="#unarchiveObjects()">unarchiveObjects</a>();
    public String <a href="#url()">url</a>();
    public View <a href="#viewWithContents()">viewWithContents</a>();
}
</pre>
The Plan object represents the contents of a .plan file created with
Netscape's Constructor. When the .plan file is saved in Constructor, the
actual objects and all of their state is recorded. The Plan object allows
you to reload the information stored in the .plan file and recreate the
objects contained therein exactly as they were when they were saved.
<BR><BR>
One of the key features of the Plan object involves the use of the
TargetProxy object within a .plan file. Many times you will want to
connect events from objects within the .plan file to objects outside
of the .plan file. One example of this would be the Application object.
Normally, you want to get the application to perform some command by
pressing a button, but the application object is not created in the
.plan file, so you cannot directly connect the button's onClick event to
the Application object. The TargetProxy object allows you to place a
named stand-in object to represent the Application object and connect the
button's onClick event to this proxy. The Plan file allows you to replace
this TargetProxy with the real object at load time. This allows you to
wire object events to objects outside the .plan file.
<BR><BR>
There are several ways to get the views out of the Plan object. There are
methods
to put all the root components into a new View, InternalWindow, or
ExternalWindow. You can also get to any named component by using the
<B>componentNamed()</B> method. A vector containing all the root components
and the Hashtable containing the name to component mappings are also available.
<BR><BR>
The standard constructors take the .plan file name and some object(s) to
replace the TargetProxies within the .plan file. They call one of the
<B>unarchiveObjects()</B> methods to create the actual objects. After the constructor
successfully returns, you can get to the view objects and place them in the
proper view hierarchy. After you have retrived all of the view objects properly,
you can throw away the Plan object. If you want to create multiple copies of the
objects within the .plan file, you may call one of <B>unarchiveObjects()</B> methods
to create these copies. All references to the previous views will be cleared.
If you wish to keep the Plan object around, but remove any references to the
real objects from the Plan object, call <B>releaseObjects()</B>. This will keep the
reference to the archiveData, but remove the references to the actual objects.
Here is a summary of what objects are stored where:<BR>
<UL>
<LI> <B>components</B> - all components dragged from the Constructor trays
irrespective of their position in the view heirarchy. </LI>
<LI> <B>rootComponents</B> - components dragged from the Constructor trays and
dropped on the document area. These views will have a null superclass.
Additionally, all non-View derived classes will be found here. </LI>
<LI> <B>objectToBounds</B> - All non-View derivied classes will be found here,
mapped to a Rect describing their location in the .plan file. </LI>
<LI> <B>nameToComponent</B> - Any component with a "Constructor Name" set will
have an entry here. </LI>
</UL> <BR><BR>
<i><b>Note:</b>  This documentation has been limited to the mimimum information
              necessary to start using Plan objects. The Plan object itself
              has a much richer API set than is documented here. Please see
              the source file Plan.java for full comments on the capabilities
              of the Plan object.</i>
<dl>
    <dt> <b>See Also:</b>
    <dd> <a href="n.c.TargetProxy.html#_top_">TargetProxy</a>
</dl>
<hr>
<a name="variables"></a>
<h1>
Fields
</h1>
<a name="ASCII_TYPE"></a>
<h2>ASCII_TYPE</h2>
<pre>
  public final static int ASCII_TYPE
</pre>
<dl>
  <dd> Plan file is saved in ASCII format and has a
filename extention of <b>ASCII_FILE_EXTENSION</b>
</dl>
<a name="BINARY_TYPE"></a>
<h2>BINARY_TYPE</h2>
<pre>
  public final static int BINARY_TYPE
</pre>
<dl>
  <dd> Plan file is saved in binary format and has a
filename extention of <b>BINARY_FILE_EXTENSION</b>
</dl>
<a name="ASCII_FILE_EXTENSION"></a>
<h2>ASCII_FILE_EXTENSION</h2>
<pre>
  public final static String ASCII_FILE_EXTENSION
</pre>
<dl>
  <dd> File name extension for ASCII files.
</dl>
<a name="BINARY_FILE_EXTENSION"></a>
<h2>BINARY_FILE_EXTENSION</h2>
<pre>
  public final static String BINARY_FILE_EXTENSION
</pre>
<dl>
  <dd> File name extension for Binary files.
</dl>
<a name="constructors"></a>
<h1>
Constructors
</h1>
<a name="Plan"></a>
<h2> <a name="Plan(java.lang.String)"><font color="#ffffff">.</font></a>Plan </h2>
<pre>
  public Plan(String url) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Loads the archive data from the <b>url</b>, and calls unarchiveObjects().
The <b>url</b> should be relative to the application's codeBase(). The
codeBase() will be appended to the <b>url</b> before the <b>url</b> is opened.
</dl>
<h2> <a name="Plan(java.lang.String, netscape.util.Hashtable)"><font color="#ffffff">.</font></a>Plan </h2>
<pre>
  public Plan(String url,
              <a href="n.u.Hashtable.html#_top_">Hashtable</a> targets) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Loads the archive data from the <b>url</b>, and calls unarchiveObjects(targets).
The <b>url</b> should be relative to the application's codeBase(). The
codeBase() will be appended to the <b>url</b> before the <b>url</b> is opened.
</dl>
<h2> <a name="Plan(java.lang.String, netscape.application.Target)"><font color="#ffffff">.</font></a>Plan </h2>
<pre>
  public Plan(String url,
              <a href="n.a.Target.html#_top_">Target</a> target) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Loads the archive data from the <b>url</b>, and calls unarchiveObjects(target).
The <b>url</b> should be relative to the application's codeBase(). The
codeBase() will be appended to the <b>url</b> before the <b>url</b> is opened.
</dl>
<h2> <a name="Plan(java.io.InputStream, int)"><font color="#ffffff">.</font></a>Plan </h2>
<pre>
  public Plan(java.io.InputStream stream,
              int formatOfStream) throws <a href="java.io.IOException.html#_top_">IOException</a>
</pre>
<dl>
  <dd> Loads the archive data from the <b>stream</b>. The <b>formatOfStream</b>
must be either <b>ASCII_TYPE</b> or <b>BINARY_TYPE</b> indicating the
type of data on the stream. This constructor only
creates the archive data. To get the actual objects contained within
this Plan, you must call one of the <b>unarchiveObjects()</b> methods.
</dl>
<a name="methods"></a>
<h1>
Methods
</h1>
<h2> <a name="createPlan(java.lang.String)"><font color="#ffffff">.</font></a><a name="createPlan">createPlan</a> </h2>
<pre>
  public static <a href="#_top_">Plan</a> createPlan(String url)
</pre>
<dl>
  <dd> Convience method for the Plan constructor of the same format.
Returns <b>null</b> if the constructor throws.
</dl>
<h2> <a name="createPlan(java.lang.String, netscape.util.Hashtable)"><font color="#ffffff">.</font></a><a name="createPlan">createPlan</a> </h2>
<pre>
  public static <a href="#_top_">Plan</a> createPlan(String url,
                                <a href="n.u.Hashtable.html#_top_">Hashtable</a> targets)
</pre>
<dl>
  <dd> Convience method for the Plan constructor of the same format.
Returns <b>null</b> if the constructor throws.
</dl>
<h2> <a name="createPlan(java.lang.String, netscape.application.Target)"><font color="#ffffff">.</font></a><a name="createPlan">createPlan</a> </h2>
<pre>
  public static <a href="#_top_">Plan</a> createPlan(String url,
                                <a href="n.a.Target.html#_top_">Target</a> target)
</pre>
<dl>
  <dd> Convience method for the Plan constructor of the same format.
Returns <b>null</b> if the constructor throws.
</dl>
<h2> <a name="createPlan(java.io.InputStream, int)"><font color="#ffffff">.</font></a><a name="createPlan">createPlan</a> </h2>
<pre>
  public static <a href="#_top_">Plan</a> createPlan(java.io.InputStream stream,
                                int formatOfStream)
</pre>
<dl>
  <dd> Convience method for the Plan constructor of the same format.
Returns <b>null</b> if the constructor throws.
</dl>
<h2> <a name="releaseObjects()"><font color="#ffffff">.</font></a><a name="releaseObjects">releaseObjects</a> </h2>
<pre>
  public void releaseObjects()
</pre>
<dl>
  <dd> This is a convience method to release the references we have to the
objects within the Plan file. Everything except the <B>archiveData</B> will be
set to null. If you want to create another set of objects, call one of the
<B>unarchiveObjects()</B> methods with the appropriate TargetProxy replacements.
</dl>
<h2> <a name="unarchiveObjects(netscape.util.Hashtable)"><font color="#ffffff">.</font></a><a name="unarchiveObjects">unarchiveObjects</a> </h2>
<pre>
  public boolean unarchiveObjects(<a href="n.u.Hashtable.html#_top_">Hashtable</a> targets)
</pre>
<dl>
  <dd> Creates the objects stored in the archive data that was loaded from one
of the constructors. TargetProxies in the archive with names matching
those in the <b>targetProxies</b> will be replaced with the object from
the <b>targetProxies</b> Hashtable. Any objects in <b>targetProxies</b>
that do not implement the Target interface will be ignored.
<B>validObjects</B> will be set to true if the objects were unarchived
correctly.
</dl>
<h2> <a name="unarchiveObjects(netscape.application.Target)"><font color="#ffffff">.</font></a><a name="unarchiveObjects">unarchiveObjects</a> </h2>
<pre>
  public boolean unarchiveObjects(<a href="n.a.Target.html#_top_">Target</a> target)
</pre>
<dl>
  <dd> Convience method for <B>unarchiveObjects(Hashtable)</B>.
The <B>target</B> object will replace all TargetProxy
objects contained in the archive data. This is convient when
there is only a single TargetProxy in the plan archive.
</dl>
<h2> <a name="unarchiveObjects()"><font color="#ffffff">.</font></a><a name="unarchiveObjects">unarchiveObjects</a> </h2>
<pre>
  public boolean unarchiveObjects()
</pre>
<dl>
  <dd> Convience method for <B>unarchiveObjects(Hashtable)</B>.
A null Hashtable is passed in, resulting in none of the
TargetProxies being replaced. Useful if you have no
targetProxy objects in the plan archive, or you are
going to me manipulating the archived objects and want
to retain the TargetProxy objects as is.
</dl>
<h2> <a name="nameToComponent()"><font color="#ffffff">.</font></a><a name="nameToComponent">nameToComponent</a> </h2>
<pre>
  public <a href="n.u.Hashtable.html#_top_">Hashtable</a> nameToComponent()
</pre>
<dl>
  <dd> Hashtable of any name to component object mappings. This table may
be empty if none of the components have been named. These names
correspond to the "Constructor Name" attribute in Constructor.
</dl>
<h2> <a name="componentNamed(java.lang.String)"><font color="#ffffff">.</font></a><a name="componentNamed">componentNamed</a> </h2>
<pre>
  public Object componentNamed(String name)
</pre>
<dl>
  <dd> Convience method for getting a component named <b>name</b>
Equivalent to:<BR>
<PRE> return nameToComponent().get(name); </PRE>
</dl>
<h2> <a name="objectToBounds()"><font color="#ffffff">.</font></a><a name="objectToBounds">objectToBounds</a> </h2>
<pre>
  public <a href="n.u.Hashtable.html#_top_">Hashtable</a> objectToBounds()
</pre>
<dl>
  <dd> Objects that are not derived from View generally do not store
their own bounds Rect. So that these objects can maintain
their visual position in the plan file, their 'bounds'
are stored in this Hashtable. This Hashtable will normally have
all the non-View derived objects in it. Normally all non-View
objects are also stored in the <b>rootComponents</b>
vector (because they are not views and therefore cannot
participate in the view hierarchy)
and additionally in the <b>components</b> vector.
</dl>
<h2> <a name="rootComponents()"><font color="#ffffff">.</font></a><a name="rootComponents">rootComponents</a> </h2>
<pre>
  public <a href="n.u.Vector.html#_top_">Vector</a> rootComponents()
</pre>
<dl>
  <dd> This is a list of the components that are at the top of the
view heirarchy within the plan file. All views are reachable
by traversing these objects. All non-View derived objects will
be in this vector as well as any View based objects dropped
on the background area in Constructor. Any object in
<b>rootComponents</b> should also be in the <b>components</b>
vector.
</dl>
<h2> <a name="components()"><font color="#ffffff">.</font></a><a name="components">components</a> </h2>
<pre>
  public <a href="n.u.Vector.html#_top_">Vector</a> components()
</pre>
<dl>
  <dd> This is a list of all views that Constructor considers to be
Components. Generally, any view that was dropped from a Tray in
Constructor is on this list. This list is used by Constructor to
determine which views are components and which views are simply
subviews of other components. <BR><BR>
A simple example would be the ContainerView object. It normally
has a single subview that displays it's title string. This subview
is not in this list of components, but if you where to the
traverse the view hierarchy, you would find it. Therefore
Constructor ignores the title subview when determining what view
you clicked on and want to edit. This Vector is normally not
interesting outside of Constructor.
</dl>
<h2> <a name="size()"><font color="#ffffff">.</font></a><a name="size">size</a> </h2>
<pre>
  public <a href="n.a.Size.html#_top_">Size</a> size()
</pre>
<dl>
  <dd> The size of the document. This is the size of the
document area that was set in Constructor.
</dl>
<h2> <a name="url()"><font color="#ffffff">.</font></a><a name="url">url</a> </h2>
<pre>
  public String url()
</pre>
<dl>
  <dd> The url used to load this plan file.
</dl>
<h2> <a name="backgroundColor()"><font color="#ffffff">.</font></a><a name="backgroundColor">backgroundColor</a> </h2>
<pre>
  public <a href="n.a.Color.html#_top_">Color</a> backgroundColor()
</pre>
<dl>
  <dd> Background color used for the document area. Normally used as the
background color on an ExternalWindow.
</dl>
<h2> <a name="boundingRect()"><font color="#ffffff">.</font></a><a name="boundingRect">boundingRect</a> </h2>
<pre>
  public <a href="n.a.Rect.html#_top_">Rect</a> boundingRect()
</pre>
<dl>
  <dd> Returns the bounding box that fits all View
derived components. InternalWindows are ignored in calculating this
Rect.
</dl>
<h2> <a name="sizeToFit()"><font color="#ffffff">.</font></a><a name="sizeToFit">sizeToFit</a> </h2>
<pre>
  public void sizeToFit()
</pre>
<dl>
  <dd> Resets size() to be boundingBox() size and adjusts views accordingly,
i.e. moves the upper left most component to 0,0 and moves all other
components the same delta amounts.
</dl>
<h2> <a name="moveBy(int, int)"><font color="#ffffff">.</font></a><a name="moveBy">moveBy</a> </h2>
<pre>
  public void moveBy(int x,
                     int y)
</pre>
<dl>
  <dd> Sends moveBy(x, y) to all the rootComponents() that are views.
</dl>
<h2> <a name="addContentsToView(netscape.application.View)"><font color="#ffffff">.</font></a><a name="addContentsToView">addContentsToView</a> </h2>
<pre>
  public void addContentsToView(<a href="n.a.View.html#_top_">View</a> aView)
</pre>
<dl>
  <dd> Adds all the rootComponents() that are views to <b>aView</b>.
</dl>
<h2> <a name="viewWithContents()"><font color="#ffffff">.</font></a><a name="viewWithContents">viewWithContents</a> </h2>
<pre>
  public <a href="n.a.View.html#_top_">View</a> viewWithContents()
</pre>
<dl>
  <dd> Creates a new View(size().width, size().height), adds all View based
components to it and returns the view.
</dl>
<h2> <a name="internalWindowWithContents()"><font color="#ffffff">.</font></a><a name="internalWindowWithContents">internalWindowWithContents</a> </h2>
<pre>
  public <a href="n.a.InternalWindow.html#_top_">InternalWindow</a> internalWindowWithContents()
</pre>
<dl>
  <dd> Adds all the rootComponents() that are views to the contentView()
of a new InternalWindow. Uses the current document size to correctly
size the internal window.
</dl>
<h2> <a name="externalWindowWithContents()"><font color="#ffffff">.</font></a><a name="externalWindowWithContents">externalWindowWithContents</a> </h2>
<pre>
  public <a href="n.a.ExternalWindow.html#_top_">ExternalWindow</a> externalWindowWithContents()
</pre>
<dl>
  <dd> Adds all the rootComponents() that are views to the rootView()
of a new ExternalWindow. Uses the current document size to correctly
size the internal window.
</dl>
<hr>
<pre>
<a href="packages.html">All Packages</a>  <a href="tree.html">Class Hierarchy</a>  <a href="Package-n.constructor.html">This Package</a>  <a href="Package-n.constructor.html">Previous</a>  <a href="Package-n.constructor.html">Next</a>  <a href="AllNames.html">Index</a></pre>
<HR><center><font size=-1>
Copyright &#169 1997 <a href="http://home.netscape.com/misc/contact_info.html"> Netscape Communications Corporation</a>. All rights reserved
<BR>Please send any comments or corrections to <a href="mailto:ifcfeedback@netscape.com">ifcfeedback@netscape.com</a>
<BR>HTML generated on 22 Jul 1997
</center></FONT>
</body>
</html>
