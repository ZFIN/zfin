<!--
    Context configuration file for @DOMAIN-NAME@ Tomcat instance
-->



<Context path="/" docBase="@TARGETROOT@/home"
         antiResourceLocking="false" antiJARLocking="false" swallowOutput="true" 
         allowLinking="true" privileged="true">

<!-- check every 20 min (=1200sec) if the connection is healthy by running the 
preferredTestQuery. If unhealthy, a new connection will be created.-->
 <Resource name="jdbc/zfin" auth="Container" factory="org.apache.naming.factory.BeanFactory"
           description="Database Connections" 
           type="com.mchange.v2.c3p0.ComboPooledDataSource" 
           driverClass="com.informix.jdbc.IfxDriver"
           
jdbcUrl="jdbc:informix-sqli://@SQLHOSTSHOST@:@INFORMIXPORT@/@DBNAME@:INFORMIXSERVER=@INFORMIXSERVER@;IFX_LOCK_MODE_WAIT=6;PDQPRIORITY=20;IFX_ISOLATION_LEVEL=DR;IFX_DIRTY_WAIT=10;CLIENT_LOCALE=en_US.utf8;DB_LOCALE=en_US.utf8"
           maxPoolSize="8" minPoolSize="6" initialPoolSize="6"
           idleConnectionTestPeriod="1200" preferredTestQuery="select * from single"
/>

 <Resource name="jdbc/sysmaster" auth="Container" factory="org.apache.naming.factory.BeanFactory"
           description="Database Connections" 
           type="com.mchange.v2.c3p0.ComboPooledDataSource" 
           driverClass="com.informix.jdbc.IfxDriver"
           
jdbcUrl="jdbc:informix-sqli://@SQLHOSTSHOST@:@INFORMIXPORT@/sysmaster:INFORMIXSERVER=@INFORMIXSERVER@;IFX_LOCK_MODE_WAIT=6;PDQPRIORITY=20;IFX_ISOLATION_LEVEL=DR;CLIENT_LOCALE=en_US.utf8;DB_LOCALE=en_US.utf8"
           maxPoolSize="8" minPoolSize="2" />

<Valve className="org.apache.catalina.valves.AccessLogValve"
                 fileDateFormat="yyyy-MM"
                 directory="logs"  prefix="@DOMAIN-NAME@_zfin_access_log." 
                 suffix=".txt"
                 pattern="combined" resolveHosts="false"/>

</Context>


