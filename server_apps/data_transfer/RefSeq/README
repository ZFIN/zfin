##################################################################
 
  README for RefSeq.pl
 
##################################################################

------------------------------------------------------------------
  ZFIN Objective:
------------------------------------------------------------------

To extract relationships from Entrez files that can be used to 
create sequence links for Zebrafish genes.
  

------------------------------------------------------------------
  Data Files:
------------------------------------------------------------------  

Entrez hosts unload files on their ftp site. ZFIN is interested 
in:
gene_info.gz   --  summary information for each Entrez ID / Organism Gene id
gene2accession.gz (formerly loc2acc) --  EntrezID / GenBank #
gene2refseq.gz (formerly loc2ref)    --  RefSeqID / Refseq Nucleotide Acc. / Refseeq Prot. Acc.
gene2unigene.gz  --  EntrezID / UniGene cluster id

   
Information pertaining to the structure of the files can be obtained
from the README file on their FTP server. 
ftp://ftp.ncbi.nih.gov/gene/DATA

------------------------------------------------------------------
  Procedure:
------------------------------------------------------------------ 
DOWNLOADING
Using wget, the most recent files are dowloaded from NCBI's ftp site.
ftp://ftp.ncbi.nih.gov/gene/DATA
Each file is uncompressed using gunzip then each file is parsed into
Informix load files.

RELATIONSHIPS (RefSeq, GenBank, UniGene, Entrez)

Entrez (Ez) IDs are the pivotal data that link other RefSeq files.
Retrieve all records from gene_info where ZDB is not null. This becomes
the translation set for RefSeq, GenBank, and Unigene.

Relationship  Entrez File  Translation using LL_dr
RefSeq:::ZDB  gene2refseq      (RefSeq/Ez  -> Ez/ZDB -> GENE)
GenBank:::ZDB gene2accession   (GenBank/Ez -> Ez/ZDB -> GENE)
UniGene:::ZDB gene2unigene     (UniGene/Ez -> Ez/ZDB -> GENE)


CLEAN & REPLACE
To insert the data, we use a wipe and replace approach. All RefSeq,
Entrez Gene, and UniGene links that are soley attributed to 
the automated curation pub are removed. All relationships from the
latest download are found. Then the relationships that do not exist in 
ZFIN are inserted into the database and they are attributed to the 
automtated curation pub.

This process is automated to perform weekly in crontab.
