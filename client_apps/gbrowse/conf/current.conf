

[GENERAL]
description   = ZFIN / Vega (Release 37)
db_adaptor    = Bio::DB::SeqFeature::Store
db_args       = -adaptor DBI::mysql
               -dsn	  dbi:mysql:database=vega_37 
               -user    nobody



plugins       = FastaDumper Submitter
remote sources = "Zebrafish Ensembl genes mapped to Vega"  http://das.sanger.ac.uk/das/vega_ens_zv8_genes/

drag and drop       = 1
balloon tips        = 1
titles are balloons = 0

# list of tracks to turn on by default
default features = genes vegagenes mRNA clone phenotype expression clone


# examples to show in the introduction
examples = fgf8a 16:15087000..15149000 ZDB-GENE-040630-3 OTTDARG00000002180 NM_130997 NP_571379 CH211-11C20 hox* 

# what image widths to offer
image widths  = 450 640 800 1024

# default width of detailed view (pixels)
default width = 800

# Web site configuration info
#gbrowse root		 = /gb/gbrowse 
stylesheet  = /gbrowse/gbrowse.css
buttons     = /gbrowse/images/buttons
tmpimages   = /gbrowse/tmp
js           = js

# feature to show on startup
initial landmark = 14:22043000..22227000

# max and default segment sizes for detailed view
max segment     = 50000000
default segment = 5000

# zoom levels
zoom levels    = 100 200 1000 5000 10000 20000 50000 100000 200000 500000 2000000

# colors of the overview, detailed map and key
overview bgcolor = lightgrey
detailed bgcolor = lightgrey
key bgcolor      = lightgrey

label density = 25
bump density  = 100

# "automatic" classes to try when an unqualified identifier is given
automatic classes = gene mRNA clone

# other customization options...

onload	= hdrSetTabs();

# HTML TO INSERT AT VARIOUS STRATEGIC LOCATIONS
# inside the <head></head> section
head = <LINK rel=stylesheet type="text/css" href="/css/zfin.css"> <LINK rel=stylesheet type="text/css" href="/css/header.css">

# at the top...
header = <script language="JavaScript" src="/javascript/header.js" type="text/javascript"></script> <style type="text/css"> body { margin-top: 0 }</style> <div style="height: 80px">&nbsp;</div>


# a footer
footer = <script language="JavaScript" src="/javascript/footer.js" type="text/javascript"></script>

# Various places where you can insert your own HTML -- see configuration docs
html1 = 
html2 = 
html3 = 
html4 = 
html5 = 
html6 = 

# Advanced feature: an example of a customized popup menu for rubber band selection
[OVERVIEW SELECT MENU]
width = 100
html  =  <table style="width:100%">
         <tr>
           <th style="background:lightgrey">
             Overview
             </span>
           </th>
         </tr>
         <tr>
           <td>
             <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndSubmit()">
              Zoom
             </span>
           </td>
         </tr>
         <tr>
           <td>
             <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.cancelRubber()">
               Cancel
             </span>
           </td>
         </tr>
        </table>


[DETAIL SELECT MENU]
width = 250
html  = <table style="width:100%">
         <tr>
           <th style="background:lightgrey;cell-padding:5">
             SELECTION
             <span style="right:0px;position:absolute;color:blue;cursor:pointer"
                   onclick="SelectArea.prototype.cancelRubber()">
               [X]
             </span>
           </th>
         </tr>
         <tr>
           <td>
             <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndSubmit()">
              Zoom in
             </span>
           </td>
         </tr>
         <tr>
           <td>
             <span style="color:blue;cursor:pointer" onclick="SelectArea.prototype.clearAndRecenter()">
               Recenter on this region
             </span>
           </td>
         </tr>
         <tr>
           <td onmouseup="SelectArea.prototype.cancelRubber()">
             <a href="?plugin=FastaDumper;plugin_action=Go;name=SELECTION" target="_BLANK">
              Dump selection as FASTA
             </a>
           </td>
         </tr>
         <tr>
           <td onmouseup="SelectArea.prototype.cancelRubber()">
             <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=ZFIN_BLAST" target="_BLANK">
               Submit selection to <b>ZFIN BLAST</b>
             </a>
           </td>
         </tr>
         <tr>
           <td onmouseup="SelectArea.prototype.cancelRubber()">
             <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=UCSC_BLAT" target="_BLANK">
               Submit selection to UCSC BLAT
             </a>
           </td>
         </tr>
         <tr>
           <td onmouseup="SelectArea.prototype.cancelRubber()">
             <a href="?name=SELECTION;plugin=Submitter;plugin_do=Go;Submitter.target=NCBI_BLAST" target="_BLANK">
               Submit selection to NCBI BLAST
             </a>
           </td>
         </tr>
       </table>

# Configuration for submitter plugin (used in above menu)
[Submitter:plugin]
submitter = [UCSC_BLAT]
            url        = http://genome.ucsc.edu/cgi-bin/hgBlat
            seq_label  = userSeq
            output     = hyperlink
            type       = DNA
            extra_html = Genome:
                         <SELECT name=org>
                         <OPTION VALUE="Human">Human</OPTION>
                         <OPTION VALUE="Chimp">Chimp</OPTION>
                         <OPTION VALUE="Orangutan">Orangutan</OPTION>
                         <OPTION VALUE="Rhesus">Rhesus</OPTION>
                         <OPTION VALUE="Marmoset">Marmoset</OPTION>
                         <OPTION VALUE="Mouse">Mouse</OPTION>
                         <OPTION VALUE="Rat">Rat</OPTION>
                         <OPTION VALUE="Guinea Pig">Guinea Pig</OPTION>

                         <OPTION VALUE="Cat">Cat</OPTION>
                         <OPTION VALUE="Dog">Dog</OPTION>
                         <OPTION VALUE="Horse">Horse</OPTION>
                         <OPTION VALUE="Cow">Cow</OPTION>
                         <OPTION VALUE="Opossum">Opossum</OPTION>
                         <OPTION VALUE="Platypus">Platypus</OPTION>
                         <OPTION VALUE="Chicken">Chicken</OPTION>
                         <OPTION VALUE="Zebra finch">Zebra finch</OPTION>
                         <OPTION VALUE="Lizard">Lizard</OPTION>

                         <OPTION VALUE="X. tropicalis">X. tropicalis</OPTION>
                         <OPTION SELECTED VALUE="Zebrafish">Zebrafish</OPTION>
                         <OPTION VALUE="Tetraodon">Tetraodon</OPTION>
                         <OPTION VALUE="Fugu">Fugu</OPTION>
                         <OPTION VALUE="Stickleback">Stickleback</OPTION>
                         <OPTION VALUE="Medaka">Medaka</OPTION>
                         <OPTION VALUE="Lamprey">Lamprey</OPTION>
                         <OPTION VALUE="Lancelet">Lancelet</OPTION>
                         <OPTION VALUE="C. intestinalis">C. intestinalis</OPTION>

                         <OPTION VALUE="S. purpuratus">S. purpuratus</OPTION>
                         <OPTION VALUE="C. elegans">C. elegans</OPTION>
                         <OPTION VALUE="C. brenneri">C. brenneri</OPTION>
                         <OPTION VALUE="C. briggsae">C. briggsae</OPTION>
                         <OPTION VALUE="C. remanei">C. remanei</OPTION>
                         <OPTION VALUE="C. japonica">C. japonica</OPTION>
                         <OPTION VALUE="P. pacificus">P. pacificus</OPTION>
                         <OPTION VALUE="D. melanogaster">D. melanogaster</OPTION>
                         <OPTION VALUE="D. simulans">D. simulans</OPTION>

                         <OPTION VALUE="D. sechellia">D. sechellia</OPTION>
                         <OPTION VALUE="D. yakuba">D. yakuba</OPTION>
                         <OPTION VALUE="D. erecta">D. erecta</OPTION>
                         <OPTION VALUE="D. ananassae">D. ananassae</OPTION>
                         <OPTION VALUE="D. pseudoobscura">D. pseudoobscura</OPTION>
                         <OPTION VALUE="D. persimilis">D. persimilis</OPTION>
                         <OPTION VALUE="D. virilis">D. virilis</OPTION>
                         <OPTION VALUE="D. mojavensis">D. mojavensis</OPTION>
                         <OPTION VALUE="D. grimshawi">D. grimshawi</OPTION>

                         <OPTION VALUE="A. gambiae">A. gambiae</OPTION>
                         <OPTION VALUE="A. mellifera">A. mellifera</OPTION>
                         <OPTION VALUE="S. cerevisiae">S. cerevisiae</OPTION>

                         </SELECT>

            [NCBI_BLAST]
            confirm   = 1
            url       = http://www.ncbi.nlm.nih.gov/blast/Blast.cgi
            seq_label = QUERY
            PAGE      = Nucleotides
            PROGRAM   = blastn
            DATABASE  = nr
            CLIENT    = web
            CMD       = put

	    [ZFIN_BLAST]
            confirm   = 0
            url       = /action/blast/blast
	    seq_label = querySequence



category tables = 'ArrayExpts' 'strain-A strain-B strain-C' 'temperature anaerobic aerobic'

########################
# Default glyph settings
########################


[TRACK DEFAULTS]
glyph         = generic
height        = 8
bgcolor       = lightgrey
fgcolor       = black
font2color    = blue
label density = 25
bump density  = 100
# where to link to when user clicks in detailed view
link          = AUTO

################## TRACK CONFIGURATION ####################
# the remainder of the sections configure individual tracks
###########################################################

[genes]
feature      = gene:ZFIN pseudogene:ZFIN
glyph	     = generic
stranded     = 1
description  = 0
bgcolor      = teal
fgcolor      = teal
link         = sub { 
                my $feat = shift;
                my @alias = $feat->attributes('gene_id');
                my $val = pop @alias;
                my $url = "/cgi-bin/webdriver?MIval=aa-markerview.apg&OID=$val";
                return $url; 
                }
key          = ZFIN Gene
citation     = The extent of the zebrafish gene as defined by the 5'-most and 3'-most extents of the transcripts encoded by the gene.


[phenotype]
feature      = gene:ZFIN_Phenotype pseudogene:ZFIN_Phenotype
glyph        = generic
stranded     = 1
description  = 0
bgcolor      = pink
fgcolor      = pink
link         = sub {
                my $feat = shift;
                my @alias = $feat->attributes('gene_id');
                my $val = pop @alias;
                my $url = "/cgi-bin/webdriver?MIval=aa-pheno_summary.apg&OID=$val";
                return $url;
                }
key          = ZFIN Genes with Phenotype
citation     = ZFIN genes that have phenotype data associated with them are displayed in this track.

[expression]
feature      = gene:ZFIN_Expression pseudogene:ZFIN_Expression
glyph        = generic
stranded     = 1
description  = 0
bgcolor      = cyan
fgcolor      = cyan
link         = sub {
                my $feat = shift;
		   my @alias = $feat->attributes('gene_id');
                my $val = pop @alias;
                my $url = "/cgi-bin/webdriver?MIval=aa-xpatselect.apg&query_results=true&xpatsel_geneZdbId=$val";
                return $url;
                }
key          = ZFIN Genes with Expression
citation     = ZFIN genes that have expression data associated with them are displayed in this track.




[vegagenes]
feature      = gene:vega
glyph        = generic
no_subparts  = 1
connector    = solid
stranded     = 1
description  = 0
bgcolor      = darkblue
fgcolor      = darkblue
link         = sub {
                my $feat = shift;
                my @alias = $feat->attributes('load_id');
                my $val = pop @alias;
		my $url = "http://vega.sanger.ac.uk/Danio_rerio/geneview?gene=$val";
                return $url;
                }
key          = Vega Gene
citation     = Zebrafish genes annotated by the HAVANA group at the Sanger Institute, in collaboration with ZFIN. The Vega gene track links to Vega gene pages.




[mRNA]
feature      = transcript:vega
glyph        = processed_transcript
connector    = solid
stranded     = 1
implied_utrs = 0
label_transcripts = 1
description  = 0
sort         = name
utr_color    = white
bgcolor      = sub {
                 my($feature,$option_name,$part_no,$total_parts,$glyph) = @_;
                 my $parent = $glyph->parent_feature;
                 my @biotypes = $parent->attributes('biotype');
                 my $biotype = pop @biotypes;
                 if ($biotype =~ /^protein_coding/) {
                   return 'cornflowerblue';
                 } else {
                   return 'white';
                 }
               }
fgcolor	     = cornflowerblue
key          = Transcript
citation     = Zebrafish transcripts annotated by the HAVANA group at the Sanger Institute, in collaboration with ZFIN. Transcripts at ZFIN are based on Vega transcripts. The transcript track links to ZFIN transcript pages.
link         = sub { 
                my $feat = shift;
                my @alias = $feat->attributes('zdb_id');
                my $val = pop @alias;                
                my $url = "/action/marker/transcript-view?zdbID=$val";
                return $url; 
                }

[clone]
feature      = clone:vega
glyph        = generic
draw_dna     = 1
stranded     = 0
description  = 0
height	      = 10
bgcolor      = cornflowerblue
fgcolor      = cornflowerblue
key          = Genome Assembly
citation     = Fully sequenced Zebrafish BAC and PAC clones from the Tuebingen strain used to generate the Genome Assembly at the Sanger Institute, trimmed to remove overlaps.
link         = sub {
                my $feat = shift;
                my @alias = $feat->attributes('Alias');
                my $val = pop @alias;
                my $url = "/cgi-bin/webdriver?MIval=aa-markerview.apg&OID=$val";
                return $url;
                }

[fullclone]
feature      = clone:vega.fulllength
glyph        = generic
stranded     = 0
description  = 0
height        = 10
bgcolor      = white
fgcolor      = cornflowerblue
key          = Complete Assembly Clones
citation     = Fully sequenced Zebrafish BAC and PAC clones from the Tuebingen strain used to generate the Genome Assembly at the Sanger Institute, untrimmed.
link         = sub {
                my $feat = shift;
                my @alias = $feat->attributes('Alias');
                my $val = pop @alias;
                my $url = "/cgi-bin/webdriver?MIval=aa-markerview.apg&OID=$val";
                return $url;
                }





